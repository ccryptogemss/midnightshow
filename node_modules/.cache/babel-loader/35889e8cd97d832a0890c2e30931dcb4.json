{"remainingRequest":"/Users/norbert.demeny/Projects/Personal/Crypto/midnightshow/node_modules/babel-loader/lib/index.js!/Users/norbert.demeny/Projects/Personal/Crypto/midnightshow/vendors/ventcamp.js","dependencies":[{"path":"/Users/norbert.demeny/Projects/Personal/Crypto/midnightshow/vendors/ventcamp.js","mtime":1630428814971},{"path":"/Users/norbert.demeny/Projects/Personal/Crypto/midnightshow/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/norbert.demeny/Projects/Personal/Crypto/midnightshow/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF90eXBlb2YgPSByZXF1aXJlKCIvVXNlcnMvbm9yYmVydC5kZW1lbnkvUHJvamVjdHMvUGVyc29uYWwvQ3J5cHRvL21pZG5pZ2h0c2hvdy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90eXBlb2YiKVsiZGVmYXVsdCJdOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLXN0cmluZy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyIpOwoKLyoNCioNCiogQ3VzdG9tIGpzIHNuaXBwZXRzIGZvciBWZW50Y2FtcCB2Mi4wDQoqIGJ5IFZpdmFjbw0KKg0KKi8KdmFyIFZlbnRjYW1wOwo7CgooZnVuY3Rpb24gKCQpIHsKICAkKGRvY3VtZW50KS5vbigncmVhZHknLCBmdW5jdGlvbiAoKSB7CiAgICBWZW50Y2FtcC5pbml0KCk7CiAgfSk7CiAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkgewogICAgVmVudGNhbXAuaW5pdCgpOwogIH0pOwp9KShqUXVlcnkpOyAvLyBNYWluIHRoZW1lIGZ1bmN0aW9ucyBzdGFydAoKClZlbnRjYW1wID0gewogIGRlZmF1bHRzOiB7CiAgICBsb2c6IGZhbHNlLAogICAgc3R5bGVTd2l0Y2hlcjogZmFsc2UsCiAgICBhbmltYXRpb25zOiB0cnVlLAogICAgb25lUGFnZU5hdjogdHJ1ZSwKICAgIGFsd2F5c01vYmlsZU1lbnVNb2RlOiBmYWxzZSwKICAgIG1vYmlsZU1lbnVNYXhXaWR0aDogNzY4LAogICAgc21vb3RoU2Nyb2xsOiBmYWxzZSwKICAgIHNtb290aFNjcm9sbFNwZWVkOiA4MDAsCiAgICBwc2V1ZG9TZWxlY3Q6IHRydWUsCiAgICBhamF4ZWRGb3JtOiB0cnVlLAogICAgYWpheGVkRm9ybVN1Y2Nlc3NNc2c6ICdTdWNjZXNzJywKICAgIGFqYXhlZEZvcm1FcnJvck1zZzogJ0FuIGVycm9yIG9jY3VyZWQuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJywKICAgIHRvYXN0clBvc2l0aW9uQ2xhc3M6ICd0b2FzdC10b3AtZnVsbC13aWR0aCcKICB9LAogIG1vYmlsZURldmljZTogZmFsc2UsCiAgbG9nOiBmdW5jdGlvbiBsb2cobXNnKSB7CiAgICBpZiAodGhpcy5vcHRpb25zLmxvZykgY29uc29sZS5sb2coJyVjU3RhcnR1cEx5IExvZzogJyArIG1zZywgJ2NvbG9yOiAjMWFjNmZmJyk7CiAgfSwKICBidWlsZFN0eWxlU3dpdGNoZXI6IGZ1bmN0aW9uIGJ1aWxkU3R5bGVTd2l0Y2hlcigpIHsKICAgIHZhciB0ZW1wbGF0ZSA9ICc8ZGl2IGNsYXNzPSJzdHlsZS1zd2l0Y2hlciI+PGEgaHJlZj0iIyIgY2xhc3M9InN0eWxlLXRvZ2dsZSI+PGkgY2xhc3M9ImZhIGZhLWNvZyI+PC9pPjwvYT48aDY+Q29sb3IgcGFsZXR0ZTwvaDY+PHVsIGNsYXNzPSJ0ZW1wbGF0ZS1zZXQtY29sb3IiPjxsaT48YSBkYXRhLWNvbG9yPSJCbHVlIiBjbGFzcz0iY29sb3IgYmx1ZSIgaHJlZj0iIyIgdGl0bGU9InN0eWxlIj48L2E+PC9saT48bGk+PGEgZGF0YS1jb2xvcj0iUGluayIgY2xhc3M9ImNvbG9yIHBpbmsiIGhyZWY9IiMiIHRpdGxlPSJtYWluLXBpbmsiPjwvYT48L2xpPjxsaT48YSBkYXRhLWNvbG9yPSJHcmVlbiIgY2xhc3M9ImNvbG9yIGdyZWVuIiBocmVmPSIjIiB0aXRsZT0ibWFpbi1ncmVlbiI+PC9hPjwvbGk+PGxpPjxhIGRhdGEtY29sb3I9IkJlcnJ5IiBjbGFzcz0iY29sb3IgYmVycnkiIGhyZWY9IiMiIHRpdGxlPSJtYWluLWJlcnJ5Ij48L2E+PC9saT48bGk+PGEgZGF0YS1jb2xvcj0iT3JhbmdlIiBjbGFzcz0iY29sb3Igb3JhbmdlIiBocmVmPSIjIiB0aXRsZT0ibWFpbi1vcmFuZ2UiPjwvYT48L2xpPjwvdWw+PGRpdiBjbGFzcz0idGVtcGxhdGUtYW5pbWF0aW9ucy1zd2l0Y2giPjxoNj5BbmltYXRpb25zPC9oNj48aW5wdXQgaWQ9ImFuaW1hdGlvbnNfc3dpdGNoIiB0eXBlPSJjaGVja2JveCIgY2hlY2tlZD0iY2hlY2tlZCIgLz48bGFiZWwgZm9yPSJhbmltYXRpb25zX3N3aXRjaCI+PGk+PC9pPjwvbGFiZWw+PC9kaXY+PC9kaXY+JzsKICAgICQoJ2JvZHknKS5hcHBlbmQodGVtcGxhdGUpOwogIH0sCiAgLy8gY2hlY2sgaWYgc2l0ZSBpcyBsYW9kZWQgZnJvbSBtb2JpbGUgZGV2aWNlCiAgY2hlY2tNb2JpbGU6IGZ1bmN0aW9uIGNoZWNrTW9iaWxlKCkgewogICAgbW9iaWxlRGV2aWNlT2xkID0gdGhpcy5tb2JpbGVEZXZpY2U7CgogICAgaWYgKC9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZXxPcGVyYSBNaW5pL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSB8fCAkKHdpbmRvdykud2lkdGgoKSA8IHRoaXMub3B0aW9ucy5tb2JpbGVNZW51TWF4V2lkdGgpIHsKICAgICAgdGhpcy5tb2JpbGVEZXZpY2UgPSB0cnVlOwogICAgICB0aGlzLmxvZygnTW9iaWxlIGRldmljZScpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5tb2JpbGVEZXZpY2UgPSBmYWxzZTsKICAgICAgdGhpcy5sb2coJ0Rlc2t0b3AnKTsKICAgIH0KICB9LAogIC8vIGluaXQgYW5pbWF0aW9ucyBvbiBwYWdlCiAgaW5pdEFuaW1hdGlvbnM6IGZ1bmN0aW9uIGluaXRBbmltYXRpb25zKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBpZiAodGhpcy5tb2JpbGVEZXZpY2UgfHwgIXRoaXMub3B0aW9ucy5hbmltYXRpb25zKSB7CiAgICAgICQoJy5hbmltYXRlZCcpLmNzcygnb3BhY2l0eScsIDEpOwogICAgICB0aGlzLmxvZygnUmVtb3ZlIGFuaW1hdGlvbnMnKTsKICAgICAgJCgnLmFuaW1hdGVkIC5jb3VudGVyLWJsb2NrIC5jb3VudCcpLm5vdCgnLmNvdW50ZG93biAuY291bnRlci1ibG9jayAgLmNvdW50JykuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgJCh0aGlzKS50ZXh0KCQodGhpcykuZGF0YSgndG8nKSk7CiAgICAgIH0pOwogICAgfSBlbHNlIGlmICh0eXBlb2YgJC5mbi5hcHBlYXIgPT0gJ2Z1bmN0aW9uJykgewogICAgICB0aGlzLmxvZygnSW5pdCBhbmltYXRpb25zJyk7CiAgICAgICQoJy5hbmltYXRlZCcpLmFwcGVhcihmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyICRlbCA9ICQodGhpcyksCiAgICAgICAgICAgIGFuaW1hdGlvbiA9ICRlbC5kYXRhKCdhbmltYXRpb24nKSwKICAgICAgICAgICAgYW5pbWF0aW9uRGVsYXkgPSAkZWwuZGF0YSgnZGVsYXknKSB8fCAwLAogICAgICAgICAgICBhbmltYXRpb25EdXJhdGlvbiA9ICRlbC5kYXRhKCdkdXJhdGlvbicpIHx8IDEwMDA7CgogICAgICAgIGlmIChfdGhpcy5vcHRpb25zLmFuaW1hdGlvbnMpIHsKICAgICAgICAgICRlbC5jc3MoewogICAgICAgICAgICAnLXdlYmtpdC1hbmltYXRpb24tZGVsYXknOiBhbmltYXRpb25EZWxheSArICdtcycsCiAgICAgICAgICAgICdhbmltYXRpb24tZGVsYXknOiBhbmltYXRpb25EZWxheSArICdtcycsCiAgICAgICAgICAgICctd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbic6IGFuaW1hdGlvbkR1cmF0aW9uIC8gMTAwMCArICdzJywKICAgICAgICAgICAgJ2FuaW1hdGlvbi1kdXJhdGlvbic6IGFuaW1hdGlvbkR1cmF0aW9uIC8gMTAwMCArICdzJwogICAgICAgICAgfSk7CiAgICAgICAgICAkZWwuYWRkQ2xhc3MoYW5pbWF0aW9uKTsKCiAgICAgICAgICBfdGhpcy5sb2coJ1BsYXkgYW5pbWF0aW9uICcgKyBhbmltYXRpb24gKyAnIHdpdGggZGVsYXkgPSAnICsgYW5pbWF0aW9uRGVsYXkgKyAnbXMgYW5kIGR1cmF0aW9uID0gJyArIGFuaW1hdGlvbkR1cmF0aW9uICsgJ21zJyk7CgogICAgICAgICAgJGVsLm9uZSgnd2Via2l0QW5pbWF0aW9uU3RhcnQgbW96QW5pbWF0aW9uU3RhcnQgTVNBbmltYXRpb25TdGFydCBvYW5pbWF0aW9uc3RhcnQgYW5pbWF0aW9uc3RhcnQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICghJGVsLmNsb3Nlc3QoJy5jb3VuZG93bicpLmxlbmd0aCkgewogICAgICAgICAgICAgIGlmICh0eXBlb2YgJC5mbi5jb3VudFRvID09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgICAgIGlmICgkZWwuZmluZCgnLmNvdW50JykubGVuZ3RoKSAkZWwuZmluZCgnLmNvdW50JykuY291bnRUbygpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmxvZygnQ2FuXCd0IGZpbmQgalF1ZXJ5LmNvdW50VG8gZnVuY3Rpb24nKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAkZWwucmVtb3ZlQ2xhc3MoJ2FuaW1hdGVkJyk7CgogICAgICAgICAgaWYgKCEkZWwuY2xvc2VzdCgnLmNvdW5kb3duJykubGVuZ3RoKSB7CiAgICAgICAgICAgIGlmICh0eXBlb2YgJC5mbi5jb3VudFRvID09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgICBpZiAoJGVsLmZpbmQoJy5jb3VudCcpLmxlbmd0aCkgJGVsLmZpbmQoJy5jb3VudCcpLmNvdW50VG8oKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLmxvZygnQ2FuXCd0IGZpbmQgalF1ZXJ5LmNvdW50VG8gZnVuY3Rpb24nKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGFjY1k6IC0xNTAKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICAkKCcuYW5pbWF0ZWQnKS5jc3MoJ29wYWNpdHknLCAxKTsKICAgICAgdGhpcy5sb2coJ0NhblwndCBmaW5kIGpRdWVyeS5hcHBlYXIgZnVuY3Rpb24nKTsKICAgICAgdGhpcy5sb2coJ1JlbW92ZSBhbmltYXRpb25zJyk7CiAgICB9CgogICAgaWYgKCQoJy5jb3VudGVyLWJsb2NrJykubm90KCcuYW5pbWF0ZWQnKS5ub3QoJy5hbmltYXRlZCAuY291bnRlci1ibG9jaycpLm5vdCgnLmNvdW50ZG93biAuY291bnRlci1ibG9jaycpLmxlbmd0aCkgewogICAgICAkKCcuY291bnRlci1ibG9jaycpLm5vdCgnLmFuaW1hdGVkJykubm90KCcuYW5pbWF0ZWQgLmNvdW50ZXItYmxvY2snKS5ub3QoJy5jb3VudGRvd24gLmNvdW50ZXItYmxvY2snKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAodHlwZW9mICQuZm4uYXBwZWFyID09ICdmdW5jdGlvbicgJiYgdHlwZW9mICQuZm4uY291bnRUbyA9PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAkKHRoaXMpLmFwcGVhcihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICQodGhpcykuZmluZCgnLmNvdW50JykuY291bnRUbygpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICQodGhpcykuZmluZCgnLmNvdW50JykudGV4dCgkKHRoaXMpLmZpbmQoJy5jb3VudCcpLmRhdGEoJ3RvJykpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICBjYWxjdWxhdGVNZW51U2l6ZXM6IGZ1bmN0aW9uIGNhbGN1bGF0ZU1lbnVTaXplcygpIHsKICAgIHZhciBfdGhpcyA9IHRoaXMsCiAgICAgICAgJGRyb3Bkb3duSXRlbSA9ICQoJy5uYXZpZ2F0aW9uLWl0ZW0uZHJvcGRvd24nKSwKICAgICAgICAkbmF2YmFyQ29sbGFwc2UgPSAkKCcubmF2YmFyLWNvbGxhcHNlJyksCiAgICAgICAgd2luSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0OwoKICAgIGlmICgkZHJvcGRvd25JdGVtLmxlbmd0aCkgewogICAgICAkZHJvcGRvd25JdGVtLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksCiAgICAgICAgICAgICRkcm9wZG93biA9ICR0aGlzLmZpbmQoJy5kcm9wZG93bi1tZW51JyksCiAgICAgICAgICAgIGhlYWRlckhlaWdodCA9ICRkcm9wZG93bkl0ZW0uY2xvc2VzdCgnaGVhZGVyJykub3V0ZXJIZWlnaHQoKTsKCiAgICAgICAgaWYgKCFfdGhpcy5tb2JpbGVEZXZpY2UpIHsKICAgICAgICAgICRkcm9wZG93bi5jc3MoJ21heC1oZWlnaHQnLCB3aW5IZWlnaHQgLSBoZWFkZXJIZWlnaHQgLSA1MCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICRkcm9wZG93bi5jc3MoJ21heC1oZWlnaHQnLCAnJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICBpZiAoJG5hdmJhckNvbGxhcHNlLmxlbmd0aCkgewogICAgICAkbmF2YmFyQ29sbGFwc2UuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKF90aGlzLm1vYmlsZURldmljZSkgewogICAgICAgICAgdmFyIGhlYWRlckhlaWdodCA9ICQodGhpcykuY2xvc2VzdCgnaGVhZGVyJykub3V0ZXJIZWlnaHQoKTsKICAgICAgICAgICQodGhpcykuY3NzKCdtYXgtaGVpZ2h0Jywgd2luSGVpZ2h0IC0gaGVhZGVySGVpZ2h0KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgd2luZG93SGVpZ2h0QmxvY2s6IGZ1bmN0aW9uIHdpbmRvd0hlaWdodEJsb2NrKCkgewogICAgdmFyICRibG9ja3MgPSAkKCcud2luZG93LWhlaWdodCcpLAogICAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsKCiAgICBpZiAoJGJsb2Nrcy5sZW5ndGgpIHsKICAgICAgJGJsb2Nrcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAkKHRoaXMpLmNzcygnbWluLWhlaWdodCcsIGhlaWdodCk7CiAgICAgIH0pOwogICAgfQoKICAgIHRoaXMubG9nKCdJbml0IHdpbmRvdyBoZWlnaHQgYmxvY2tzJyk7CiAgfSwKICBjZW50ZXJlZEJsb2NrOiBmdW5jdGlvbiBjZW50ZXJlZEJsb2NrKCkgewogICAgdmFyICRibG9ja3MgPSAkKCcuY2VudGVyZWQtYmxvY2snKTsKCiAgICBpZiAoJGJsb2Nrcy5sZW5ndGgpIHsKICAgICAgJGJsb2Nrcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgJGVsID0gJCh0aGlzKSwKICAgICAgICAgICAgJHBhcmVudCA9ICRlbC5wYXJlbnQoKSwKICAgICAgICAgICAgZWxIZWlnaHQgPSAkZWwub3V0ZXJIZWlnaHQoKSwKICAgICAgICAgICAgcGFyZW50SGVpZ2h0ID0gJHBhcmVudC5vdXRlckhlaWdodCgpLAogICAgICAgICAgICBwYWRkaW5nID0gKHBhcmVudEhlaWdodCAtIGVsSGVpZ2h0KSAvIDI7CgogICAgICAgIGlmIChwYWRkaW5nID49IDApIHsKICAgICAgICAgICRwYXJlbnQuY3NzKHsKICAgICAgICAgICAgJ3BhZGRpbmctdG9wJzogcGFkZGluZywKICAgICAgICAgICAgJ3BhZGRpbmctYm90dG9tJzogMAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICB0aGlzLmxvZygnSW5pdCBjZW50ZXJlZCBibG9ja3MnKTsKICB9LAogIHZpZGVvQmFja2dyb3VuZEluaXQ6IGZ1bmN0aW9uIHZpZGVvQmFja2dyb3VuZEluaXQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICQoJy55dHAtcGxheWVyLWJhY2tncm91bmQnKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyICRlbCA9ICQodGhpcyksCiAgICAgICAgICAkcGxheWVyLAogICAgICAgICAgY29udHJvbHNUZW1wYWx0ZTsKCiAgICAgIGlmICgkZWwuZGF0YSgndmlkZW8nKSAmJiAkZWwuZGF0YSgndmlkZW8nKS5sZW5ndGgpIHsKICAgICAgICAkZWwuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywgJ3VybChodHRwczovL2kueXRpbWcuY29tL3ZpLycgKyAkZWwuZGF0YSgndmlkZW8nKSArICcvbWF4cmVzZGVmYXVsdC5qcGcpJyk7CiAgICAgIH0KCiAgICAgIGlmICghX3RoaXMubW9iaWxlRGV2aWNlICYmIHR5cGVvZiAkLmZuLllUUGxheWVyID09ICdmdW5jdGlvbicpIHsKICAgICAgICBfdGhpcy5sb2coJ0luaXQgdmlkZW8gYmFja2dyb3VuZCBibG9ja3MnKTsKCiAgICAgICAgJHBsYXllciA9ICRlbC5ZVFBsYXllcigpOwogICAgICB9IGVsc2UgewogICAgICAgICRlbC5hZGRDbGFzcygnbm8tdmlkZW8tYmcnKTsKCiAgICAgICAgaWYgKHR5cGVvZiAkLmZuLllUUGxheWVyICE9ICdmdW5jdGlvbicpIHsKICAgICAgICAgIF90aGlzLmxvZygnQ2FuXCd0IGZpbmQgalF1ZXJ5LllUUGxheWVyIGZ1bmN0aW9uLiBWaWRlbyBiYWNrZ3JvdW5kIGJsb2NrcyBkb2VzblwndCB3b3JrLicpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy5sb2coJ0NhblwndCBpbml0IHZpZGVvIGJhY2tncm91bmQgYmxvY2tzLicpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBpbml0UHNldWRvU2VsZWN0OiBmdW5jdGlvbiBpbml0UHNldWRvU2VsZWN0KCkgewogICAgdmFyICRzZWxlY3QgPSAkKCdzZWxlY3QnKTsKCiAgICBpZiAoJHNlbGVjdC5sZW5ndGgpIHsKICAgICAgJHNlbGVjdC5lYWNoKHRoaXMubWFrZVBzZXVkb1NlbGVjdCk7CiAgICB9CiAgfSwKICBtYWtlUHNldWRvU2VsZWN0OiBmdW5jdGlvbiBtYWtlUHNldWRvU2VsZWN0KGksIGVsKSB7CiAgICB2YXIgJGVsID0gJChlbCksCiAgICAgICAgJG9wdGlvbnMgPSAkZWwuZmluZCgnb3B0aW9uJyksCiAgICAgICAgJHBzZXVkb1NlbGVjdCA9ICQoJzxkaXYgY2xhc3M9InBzZXVkby1zZWxlY3QiPjwvZGl2PicpLAogICAgICAgICRpbnB1dCA9ICQoJzxpbnB1dCB0eXBlPSJ0ZXh0IiAvPicpLAogICAgICAgICRmaWVsZCA9ICQoJzxzcGFuIGNsYXNzPSJwc2V1ZG8tc2VsZWN0LWZpZWxkIj48L3NwYW4+JyksCiAgICAgICAgJGRyb3Bkb3duID0gJCgnPHVsIGNsYXNzPSJwc2V1ZG8tc2VsZWN0LWRyb3Bkb3duIj48L3VsPicpOwogICAgJG9wdGlvbnMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICRsaSA9ICQoJzxsaSBjbGFzcz0icHNldWRvLXNlbGVjdC1kcm9wZG93bi1pdGVtIj48L2xpPicpOwogICAgICAkbGkuZGF0YSgndmFsdWUnLCB0aGlzLnZhbHVlKTsKICAgICAgJGxpLnRleHQodGhpcy50ZXh0KTsKICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpICRsaS5hZGRDbGFzcygnZGlzYWJsZWQnKTsKCiAgICAgIGlmICh0aGlzLnNlbGVjdGVkKSB7CiAgICAgICAgJGxpLmFkZENsYXNzKCdzZWxlY3RlZCcpOwogICAgICAgICRmaWVsZC50ZXh0KHRoaXMudGV4dCk7CiAgICAgICAgJGlucHV0LmF0dHIoJ3ZhbHVlJywgdGhpcy52YWx1ZSk7CiAgICAgIH0KCiAgICAgICRkcm9wZG93bi5hcHBlbmQoJGxpKTsKICAgIH0pOwogICAgJGVsLmFmdGVyKCRwc2V1ZG9TZWxlY3QpOwogICAgJGlucHV0LmF0dHIoewogICAgICBpZDogZWwuaWQsCiAgICAgIG5hbWU6IGVsLm5hbWUKICAgIH0pOwogICAgJHBzZXVkb1NlbGVjdC5hcHBlbmQoJGlucHV0KS5hcHBlbmQoJGZpZWxkKS5hcHBlbmQoJGRyb3Bkb3duKTsKICAgICRlbC5yZW1vdmUoKTsKCiAgICB2YXIgY2xvc2VQc2V1ZG9TZWxlY3QgPSBmdW5jdGlvbiBjbG9zZVBzZXVkb1NlbGVjdCgpIHsKICAgICAgJGRyb3Bkb3duLnN0b3AodHJ1ZSwgdHJ1ZSkuc2xpZGVVcCgxNTApOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAkZWwucmVtb3ZlQ2xhc3MoJ29wZW4nKTsKICAgICAgfSwgMTUwKTsKICAgIH0sCiAgICAgICAgb3BlblBzZXVkb1NlbGVjdCA9IGZ1bmN0aW9uIG9wZW5Qc2V1ZG9TZWxlY3QoKSB7CiAgICAgICRlbC5hZGRDbGFzcygnb3BlbicpOwogICAgICAkZHJvcGRvd24uc3RvcCh0cnVlLCB0cnVlKS5zbGlkZURvd24oMjUwKTsKICAgIH0sCiAgICAgICAgc2VsZWN0SXRlbSA9IGZ1bmN0aW9uIHNlbGVjdEl0ZW0oJGxpKSB7CiAgICAgIHZhciB2YWx1ZSA9ICRsaS5kYXRhKCd2YWx1ZScpLAogICAgICAgICAgdGV4dCA9ICRsaS50ZXh0KCksCiAgICAgICAgICBkcm9wZG93bkhlaWdodCA9ICRkcm9wZG93bi5vdXRlckhlaWdodCgpLAogICAgICAgICAgZWxIZWlnaHQgPSAkbGkub3V0ZXJIZWlnaHQoKSwKICAgICAgICAgIHNjcm9sbFRvcCA9ICRkcm9wZG93bi5zY3JvbGxUb3AoKSwKICAgICAgICAgIGVsZW1Qb3NpdGlvbiA9ICRsaS5wb3NpdGlvbigpLnRvcDsKCiAgICAgIGlmIChlbGVtUG9zaXRpb24gKyBlbEhlaWdodCA+IGRyb3Bkb3duSGVpZ2h0KSB7CiAgICAgICAgJGRyb3Bkb3duLnNjcm9sbFRvcChlbEhlaWdodCArIGVsZW1Qb3NpdGlvbiAtIGRyb3Bkb3duSGVpZ2h0ICsgc2Nyb2xsVG9wKTsKICAgICAgfSBlbHNlIGlmIChlbGVtUG9zaXRpb24gPCAwKSB7CiAgICAgICAgJGRyb3Bkb3duLnNjcm9sbFRvcChzY3JvbGxUb3AgKyBlbGVtUG9zaXRpb24pOwogICAgICB9CgogICAgICAkbGkuYWRkQ2xhc3MoJ3NlbGVjdGVkJykuc2libGluZ3MoJ2xpJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7CiAgICAgICRpbnB1dC52YWwodmFsdWUpOwogICAgICAkZmllbGQudGV4dCh0ZXh0KTsKICAgICAgJGlucHV0LnRyaWdnZXIoJ2NoYW5nZScpOwogICAgfTsKCiAgICAkaW5wdXQub24oJ2ZvY3VzLnBzZXVkb1NlbGVjdCcsIG9wZW5Qc2V1ZG9TZWxlY3QpOwogICAgJGlucHV0Lm9uKCdibHVyLnBzZXVkb1NlbGVjdCcsIGNsb3NlUHNldWRvU2VsZWN0KTsKICAgICRpbnB1dC5vbigna2V5ZG93bicsIGZ1bmN0aW9uIChldmVudCkgewogICAgICB2YXIgJGxpID0gJGRyb3Bkb3duLmZpbmQoJ2xpJykubm90KCcuZGlzYWJsZWQnKSwKICAgICAgICAgICRsaVNlbGVjdGVkID0gJGRyb3Bkb3duLmZpbmQoJ2xpLnNlbGVjdGVkJykubm90KCcuZGlzYWJsZWQnKSwKICAgICAgICAgIGluZGV4ID0gJC5tYXAoJGxpLCBmdW5jdGlvbiAoZWwsIGkpIHsKICAgICAgICBpZiAoJChlbCkuaXMoJy5zZWxlY3RlZCcpKSB7CiAgICAgICAgICByZXR1cm4gaTsKICAgICAgICB9CiAgICAgIH0pWzBdLAogICAgICAgICAgbmV4dEluZGV4ID0gaW5kZXggPCAkbGkubGVuZ3RoIC0gMSA/IGluZGV4ICsgMSA6IDAsCiAgICAgICAgICBwcmV2SW5kZXggPSBpbmRleCAtIDEsCiAgICAgICAgICAkcHJldiA9ICRsaS5lcShwcmV2SW5kZXgpLAogICAgICAgICAgJG5leHQgPSAkbGkuZXEobmV4dEluZGV4KTsKCiAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDM4KSB7CiAgICAgICAgaWYgKCRsaVNlbGVjdGVkLmxlbmd0aCkgewogICAgICAgICAgc2VsZWN0SXRlbSgkcHJldik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHNlbGVjdEl0ZW0oJGxpLmxhc3QoKSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSA0MCkgewogICAgICAgIGlmICgkbGlTZWxlY3RlZC5sZW5ndGgpIHsKICAgICAgICAgIHNlbGVjdEl0ZW0oJG5leHQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzZWxlY3RJdGVtKCRsaS5maXJzdCgpKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDMyKSB7CiAgICAgICAgaWYgKCRlbC5pcygnLm9wZW4nKSkgY2xvc2VQc2V1ZG9TZWxlY3QoKTtlbHNlIG9wZW5Qc2V1ZG9TZWxlY3QoKTsKICAgICAgfQoKICAgICAgaWYgKGV2ZW50LmtleUNvZGUgIT0gMTMgJiYgZXZlbnQua2V5Q29kZSAhPSA5KSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9KTsKICAgICRmaWVsZC5vbignY2xpY2sucHNldWRvU2VsZWN0JywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGlmICghJGVsLmlzKCcub3BlbicpKSAkaW5wdXQudHJpZ2dlcignZm9jdXMnKTsKICAgIH0pOwogICAgJCgnYm9keScpLm9uKCdjbGljay5wc2V1ZG9TZWxlY3QnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgaWYgKCEkKGV2ZW50LnRhcmdldCkuY2xvc2VzdCgkZmllbGQpLmxlbmd0aCAmJiAkZWwuaXMoJy5vcGVuJykpIGNsb3NlUHNldWRvU2VsZWN0KCk7CiAgICB9KTsKICAgICRkcm9wZG93bi5vbignbW91c2Vkb3duLnBzZXVkb1NlbGVjdCBjbGljay5wc2V1ZG9TZWxlY3QnLCAnbGknLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgc2VsZWN0SXRlbSgkKHRoaXMpKTsKICAgICAgY2xvc2VQc2V1ZG9TZWxlY3QoKTsKICAgIH0pOwogICAgcmV0dXJuICRpbnB1dDsKICB9LAogIC8vIFRhYnMgdmlldwogIHRhYk5hdlRvU2VsZWN0OiBmdW5jdGlvbiB0YWJOYXZUb1NlbGVjdCgpIHsKICAgICRuYXYgPSAkKCcubmF2Jyk7CgogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAkbmF2LmVhY2goZnVuY3Rpb24gKCkgewogICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLAogICAgICAgICAgJGFjdGl2ZSA9ICR0aGlzLmZpbmQoJ2xpLmFjdGl2ZSA+IGEnKSwKICAgICAgICAgICRmaWVsZCA9ICQoJzxzcGFuIGNsYXNzPSJuYXYtY3VycmVudCI+JyArICRhY3RpdmUuaHRtbCgpICsgJzwvc3Bhbj4nKTsKICAgICAgJHRoaXMud3JhcEFsbCgnPGRpdiBjbGFzcz0ibmF2LXdyYXBwZXIiPjwvZGl2PicpOwogICAgICAkdGhpcy5iZWZvcmUoJGZpZWxkKTsKICAgICAgJGZpZWxkLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoISR0aGlzLmlzKCcub3BlbicpKSAkdGhpcy5zdG9wKHRydWUsIHRydWUpLnNsaWRlRG93bigyNTApLmFkZENsYXNzKCdvcGVuJyk7ZWxzZSAkdGhpcy5zdG9wKHRydWUsIHRydWUpLnNsaWRlVXAoMTUwKS5yZW1vdmVDbGFzcygnb3BlbicpOwogICAgICB9KTsKICAgICAgJHRoaXMub24oJ2NsaWNrJywgJ2EnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgJGZpZWxkLmh0bWwoJCh0aGlzKS5odG1sKCkpOwogICAgICB9KTsKICAgICAgJCgnYm9keScpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICR0YXJnZXQgPSAkKGV2ZW50LnRhcmdldCk7CgogICAgICAgIGlmICghJHRhcmdldC5jbG9zZXN0KCRmaWVsZCkubGVuZ3RoICYmICR0aGlzLmlzKCcub3BlbicpKSB7CiAgICAgICAgICAkdGhpcy5zdG9wKHRydWUsIHRydWUpLnNsaWRlVXAoMTUwKS5yZW1vdmVDbGFzcygnb3BlbicpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9KTsKICB9LAogIGZvcm1Jbml0OiBmdW5jdGlvbiBmb3JtSW5pdCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5sb2coJ0luaXQgYWpheGVkIGZvcm1zLicpOwoKICAgIGlmICh0eXBlb2YgdG9hc3RyICE9ICd1bmRlZmluZWQnKSB7CiAgICAgIHRvYXN0ci5vcHRpb25zID0gewogICAgICAgIHBvc2l0aW9uQ2xhc3M6IHRoaXMub3B0aW9ucy50b2FzdHJQb3NpdGlvbkNsYXNzCiAgICAgIH07CiAgICB9IGVsc2UgewogICAgICB0aGlzLmxvZygnQ2FuXCd0IGZpbmQgdG9hc3RyLiBGb3JtIG1lc3NhZ2VzIGluIGFsZXJ0cy4nKTsKICAgIH0KCiAgICB2YXIgdmFsaWRhdGVPcHRpb25zLCBzdWJtaXRIYW5kbGVyLCBkb25lSGFuZGxlciwgZmFpbEhhbmRsZXI7CgogICAgc3VibWl0SGFuZGxlciA9IGZ1bmN0aW9uIHN1Ym1pdEhhbmRsZXIoZXZlbnQpIHsKICAgICAgdmFyIGZvcm0gPSB0aGlzOwogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAkLmFqYXgoewogICAgICAgIHVybDogZm9ybS5hY3Rpb24sCiAgICAgICAgdHlwZTogJ1BPU1QnLAogICAgICAgIGRhdGE6ICQoZm9ybSkuc2VyaWFsaXplKCkKICAgICAgfSkuZG9uZShmdW5jdGlvbiAobXNnKSB7CiAgICAgICAgZG9uZUhhbmRsZXIobXNnLCBmb3JtKTsKICAgICAgfSkuZmFpbChmdW5jdGlvbiAoKSB7CiAgICAgICAgZmFpbEhhbmRsZXIoZm9ybSk7CiAgICAgIH0pOwogICAgfTsKCiAgICB2YWxpZGF0ZU9wdGlvbnMgPSB7CiAgICAgIHJ1bGVzOiB7CiAgICAgICAgcGFzc3dvcmQ6IHsKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWlubGVuZ3RoOiA1CiAgICAgICAgfSwKICAgICAgICBjb25maXJtUGFzc3dvcmQ6IHsKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWlubGVuZ3RoOiA1LAogICAgICAgICAgZXF1YWxUbzogJyNwYXNzd29yZCcKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG1lc3NhZ2VzOiB7CiAgICAgICAgcGFzc3dvcmQ6IHsKICAgICAgICAgIHJlcXVpcmVkOiAnUGxlYXNlIHByb3ZpZGUgYSBwYXNzd29yZCcsCiAgICAgICAgICBtaW5sZW5ndGg6ICdZb3VyIHBhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgNSBjaGFyYWN0ZXJzIGxvbmcnCiAgICAgICAgfSwKICAgICAgICBjb25maXJtUGFzc3dvcmQ6IHsKICAgICAgICAgIHJlcXVpcmVkOiAnUGxlYXNlIHByb3ZpZGUgYSBwYXNzd29yZCcsCiAgICAgICAgICBtaW5sZW5ndGg6ICdZb3VyIHBhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgNSBjaGFyYWN0ZXJzIGxvbmcnLAogICAgICAgICAgZXF1YWxUbzogJ1BsZWFzZSBlbnRlciB0aGUgc2FtZSBwYXNzd29yZCBhcyBhYm92ZScKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHN1Ym1pdEhhbmRsZXI6IGZ1bmN0aW9uIHN1Ym1pdEhhbmRsZXIoZm9ybSkgewogICAgICAgIHZhciAkaW5wdXQgPSAkKGZvcm0pLmZpbmQoJ2lucHV0W3R5cGU9InN1Ym1pdCJdJyksCiAgICAgICAgICAgICRidXR0b24gPSAkKGZvcm0pLmZpbmQoJ2J1dHRvblt0eXBlPSJzdWJtaXQiXScpOwoKICAgICAgICBpZiAoJGJ1dHRvbi5sZW5ndGgpIHsKICAgICAgICAgICRidXR0b24uYXBwZW5kKCc8c3BhbiBjbGFzcz0ibG9hZGluZyBmYSBmYS1yZWZyZXNoIj48L3NwYW4+Jyk7CiAgICAgICAgfSBlbHNlIGlmICgkaW5wdXQpIHsKICAgICAgICAgICRpbnB1dC5hZnRlcignPHNwYW4gY2xhc3M9ImxvYWRpbmcgZmEgZmEtcmVmcmVzaCI+PC9zcGFuPicpOwogICAgICAgIH0KCiAgICAgICAgJC5hamF4KHsKICAgICAgICAgIHVybDogZm9ybS5hY3Rpb24sCiAgICAgICAgICB0eXBlOiAnUE9TVCcsCiAgICAgICAgICBkYXRhOiAkKGZvcm0pLnNlcmlhbGl6ZSgpCiAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAobXNnKSB7CiAgICAgICAgICAkKGZvcm0pLmZpbmQoJy5sb2FkaW5nJykucmVtb3ZlKCk7CiAgICAgICAgICBkb25lSGFuZGxlcihtc2csIGZvcm0pOwogICAgICAgIH0pLmZhaWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgJChmb3JtKS5maW5kKCcubG9hZGluZycpLnJlbW92ZSgpOwogICAgICAgICAgZmFpbEhhbmRsZXIoZm9ybSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH07CgogICAgZG9uZUhhbmRsZXIgPSBmdW5jdGlvbiBkb25lSGFuZGxlcihtc2csIGZvcm0pIHsKICAgICAgaWYgKG1zZyA9PT0gJ29rJykgewogICAgICAgIGZvcm0ucmVzZXQoKTsKICAgICAgICBpZiAodHlwZW9mIHRvYXN0ciAhPSAndW5kZWZpbmVkJykgdG9hc3RyLnN1Y2Nlc3MoJ1N1Y2Nlc3MnKTtlbHNlIGFsZXJ0KCdTdWNjZXNzJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHR5cGVvZiB0b2FzdHIgIT0gJ3VuZGVmaW5lZCcpIHRvYXN0ci5lcnJvcignQW4gZXJyb3Igb2NjdXJlZC4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nKTtlbHNlIGFsZXJ0KCdBbiBlcnJvciBvY2N1cmVkLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicpOwoKICAgICAgICBfdGhpcy5sb2coJ0Zvcm0gbWVzc2FnZScsIG1zZyk7CiAgICAgIH0KICAgIH07CgogICAgZmFpbEhhbmRsZXIgPSBmdW5jdGlvbiBmYWlsSGFuZGxlcigpIHsKICAgICAgaWYgKHR5cGVvZiB0b2FzdHIgIT0gJ3VuZGVmaW5lZCcpIHRvYXN0ci5lcnJvcignQW4gZXJyb3Igb2NjdXJlZC4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nKTtlbHNlIGFsZXJ0KCdBbiBlcnJvciBvY2N1cmVkLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicpOwogICAgfTsKCiAgICBpZiAoJCgnZm9ybScpLm5vdCgnLm1haWxjaGltcC1mb3JtJykubm90KCcuZGlzYWJsZS1hamF4LWZvcm0nKS5sZW5ndGgpIHsKICAgICAgJCgnZm9ybScpLm5vdCgnLm1haWxjaGltcC1mb3JtJykubm90KCcuZGlzYWJsZS1hamF4LWZvcm0nKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAodHlwZW9mICQuZm4udmFsaWRhdGUgPT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgJCh0aGlzKS52YWxpZGF0ZSh2YWxpZGF0ZU9wdGlvbnMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAkKHRoaXMpLm9uKCdzdWJtaXQnLCBzdWJtaXRIYW5kbGVyKTsKCiAgICAgICAgICBfdGhpcy5sb2coJ0NhblwndCBmaW5kIGpRdWVyeS52YWxpZGF0ZSBmdW5jdGlvbi4nKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICAgIGlmICgkKCcubWFpbGNoaW1wLWZvcm0nKS5sZW5ndGgpIHsKICAgICAgJCgnLm1haWxjaGltcC1mb3JtJykuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgJCh0aGlzKS5vbignc3VibWl0JywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgdmFyICRmb3JtID0gJCh0aGlzKSwKICAgICAgICAgICAgICAkaW5wdXQgPSAkZm9ybS5maW5kKCdpbnB1dFt0eXBlPSJzdWJtaXQiXScpLAogICAgICAgICAgICAgICRidXR0b24gPSAkZm9ybS5maW5kKCdidXR0b25bdHlwZT0ic3VibWl0Il0nKSwKICAgICAgICAgICAgICAkZnVsbG5hbWVGaWVsZCA9ICcnLAogICAgICAgICAgICAgICRlbWFpbEZpZWxkID0gJGZvcm0uZmluZCgnW25hbWU9TmV3c2xldHRlckVtYWlsXScpLAogICAgICAgICAgICAgICRyZXNwb25zZUJsb2NrID0gJGZvcm0uZmluZCgnLnJlc3BvbnNlJyksCiAgICAgICAgICAgICAgZW1haWwgPSAkZW1haWxGaWVsZC52YWwoKSwKICAgICAgICAgICAgICBmaXJzdF9uYW1lID0gJycsCiAgICAgICAgICAgICAgbGFzdF9uYW1lID0gJyc7CgogICAgICAgICAgaWYgKCQodGhpcykuZmluZCgnW25hbWU9TmV3c2xldHRlck5hbWVdJykubGVuZ3RoID4gMCkgewogICAgICAgICAgICAkZnVsbG5hbWVGaWVsZCA9ICRmb3JtLmZpbmQoJ1tuYW1lPU5ld3NsZXR0ZXJOYW1lXScpOwogICAgICAgICAgICBmdWxsbmFtZSA9ICRmdWxsbmFtZUZpZWxkLnZhbCgpLnNwbGl0KCcgJyksIC8vIEd3dCBGdWxsIG5hbWUgYW5kIHNwbGl0IGl0IGJ5IHNwYWNlCiAgICAgICAgICAgIGZpcnN0X25hbWUgPSBmdWxsbmFtZVswXSwgLy8gRmlyc3QgcGFydCBpcyB0aGUgZmlyc3QgbmFtZQogICAgICAgICAgICBsYXN0X25hbWUgPSBmdWxsbmFtZVsxXTsgLy8gU2Vjb25kIHBhcnQgaXMgTGFzdCBuYW1lCgogICAgICAgICAgICBpZiAoIWxhc3RfbmFtZSkgbGFzdF9uYW1lID0gJyc7IC8vQnkgY2hhbmNlIHRoZXkgY2FuIGlucHV0IG9ubHkgdGhlaXIgZmlyc3QgbmFtZSwgdGhlbiB3ZSBzaG91bGQgbnVsbCB0aGUgbGFzdCBuYW1lIHNpbmNlIHRoZXJlIGlzIG5vbmUKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGZpcnN0X25hbWUgPSAnJywgbGFzdF9uYW1lID0gJyc7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKCRidXR0b24ubGVuZ3RoKSB7CiAgICAgICAgICAgICRidXR0b24uYXBwZW5kKCc8c3BhbiBjbGFzcz0ibG9hZGluZyBmYSBmYS1yZWZyZXNoIj48L3NwYW4+Jyk7CiAgICAgICAgICB9IGVsc2UgaWYgKCRpbnB1dCkgewogICAgICAgICAgICAkaW5wdXQuYWZ0ZXIoJzxzcGFuIGNsYXNzPSJsb2FkaW5nIGZhIGZhLXJlZnJlc2giPjwvc3Bhbj4nKTsKICAgICAgICAgIH0KCiAgICAgICAgICAkLmFqYXgoewogICAgICAgICAgICB1cmw6ICdwcm9jZXNzLWZvcm0tbWFpbGNoaW1wLnBocCcsCiAgICAgICAgICAgIGRhdGE6ICdhamF4PXRydWUmZW1haWw9JyArIGVzY2FwZShlbWFpbCkgKyAnJmZuYW1lPScgKyBmaXJzdF9uYW1lICsgJyZsbmFtZT0nICsgbGFzdF9uYW1lLAogICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKG1zZykgewogICAgICAgICAgICAgICRmb3JtLmZpbmQoJy5sb2FkaW5nJykucmVtb3ZlKCk7CgogICAgICAgICAgICAgIGlmIChtc2cuaW5kZXhPZignU3VjY2VzcycpICE9IC0xKSB7CiAgICAgICAgICAgICAgICAkcmVzcG9uc2VCbG9jay5odG1sKCc8c3BhbiBjbGFzcz0ic3VjY2Vzcy1tZXNzYWdlIj5TdWNjZXNzISBZb3UgYXJlIG5vdyBzdWJzY3JpYmVkIHRvIG91ciBuZXdzbGV0dGVyITwvc3Bhbj4nKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJHJlc3BvbnNlQmxvY2suaHRtbCgnPHNwYW4gY2xhc3M9ImVycm9yLW1lc3NhZ2UiPicgKyBtc2cgKyAnPC9zcGFuPicpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgLy8gR29vZ2xlIG1hcAogIGluaXRHb29nbGVNYXA6IGZ1bmN0aW9uIGluaXRHb29nbGVNYXAoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIGlmICgkKCcubWFwJykubGVuZ3RoKSB7CiAgICAgICQoJy5tYXAnKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgbWFwRWwgPSB0aGlzOwogICAgICAgIHZhciBtYXAsIG1hcmtlciwgZ2VvY29kZXIsIHNlcnZpY2U7CiAgICAgICAgdmFyIGljb24gPSAnL2Fzc2V0cy9pbWcvbWFya2VyLTQ2eDQ2LnBuZycsCiAgICAgICAgICAgIGFkZHJlc3MsCiAgICAgICAgICAgIG1hcmtlckxhdExuZywKICAgICAgICAgICAgb2Zmc2V0WCwKICAgICAgICAgICAgb2Zmc2V0WSwKICAgICAgICAgICAgcmVsYXRpdmVPZmZzZXQsCiAgICAgICAgICAgIGJhbGxvb25zLAogICAgICAgICAgICBtYXBPcHRpb25zID0gewogICAgICAgICAgem9vbTogMTQsCiAgICAgICAgICBzY3JvbGx3aGVlbDogZmFsc2UsCiAgICAgICAgICBtYXBUeXBlQ29udHJvbDogZmFsc2UKICAgICAgICB9OwoKICAgICAgICBmdW5jdGlvbiBjcmVhdGVNYXAoKSB7CiAgICAgICAgICBtYXBPcHRpb25zLmNlbnRlciA9IG1hcmtlckxhdExuZzsKICAgICAgICAgIG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAobWFwRWwsIG1hcE9wdGlvbnMpOwogICAgICAgICAgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7CiAgICAgICAgICAgIG1hcDogbWFwLAogICAgICAgICAgICBpY29uOiBpY29uLAogICAgICAgICAgICBwb3NpdGlvbjogbWFya2VyTGF0TG5nCiAgICAgICAgICB9KTsKICAgICAgICAgIG1hcC5hZGRMaXN0ZW5lcigncHJvamVjdGlvbl9jaGFuZ2VkJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICBjZW50ZXJNYXAobWFwLCBvZmZzZXRYLCBvZmZzZXRZLCByZWxhdGl2ZU9mZnNldCk7CiAgICAgICAgICB9KTsKICAgICAgICAgIGNyZWF0ZUJhbGxvb25zKCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBjcmVhdGVCYWxsb29ucygpIHsKICAgICAgICAgIHNlcnZpY2UgPSBuZXcgZ29vZ2xlLm1hcHMucGxhY2VzLlBsYWNlc1NlcnZpY2UobWFwKTsKCiAgICAgICAgICBpZiAoYmFsbG9vbnMpIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiYWxsb29ucy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIHZhciBiYWxsb29uID0gYmFsbG9vbnNbaV07CgogICAgICAgICAgICAgIGlmICh0eXBlb2YgYmFsbG9vbiA9PSAnc3RyaW5nJykgewogICAgICAgICAgICAgICAgc2VydmljZS50ZXh0U2VhcmNoKHsKICAgICAgICAgICAgICAgICAgbG9jYXRpb246IG1hcmtlckxhdExuZywKICAgICAgICAgICAgICAgICAgcmFkaXVzOiA1MDAwLAogICAgICAgICAgICAgICAgICBxdWVyeTogYmFsbG9vbgogICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHJlc3VsdHMsIHN0YXR1cykgewogICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID09IGdvb2dsZS5tYXBzLnBsYWNlcy5QbGFjZXNTZXJ2aWNlU3RhdHVzLk9LKSB7CiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIHBsYWNlOyBwbGFjZSA9IHJlc3VsdHNbaV07IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgc2VydmljZS5nZXREZXRhaWxzKHsKICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VJZDogcGxhY2UucGxhY2VfaWQKICAgICAgICAgICAgICAgICAgICAgIH0sIGNyZWF0ZU1hcmtlcnMpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIDsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGNyZWF0ZU1hcmtlcnMocGxhY2UsIHN0YXR1cykgewogICAgICAgICAgaWYgKHN0YXR1cyA9PSBnb29nbGUubWFwcy5wbGFjZXMuUGxhY2VzU2VydmljZVN0YXR1cy5PSykgewogICAgICAgICAgICB2YXIgaW5uZXJDb250ZW50OwogICAgICAgICAgICBpbm5lckNvbnRlbnQgPSAnPGRpdiBjbGFzcz0iYmFsbG9vbiI+PHN0cm9uZyBjbGFzcz0ibmFtZSI+JyArIHBsYWNlLm5hbWUgKyAnPC9zdHJvbmc+JzsKCiAgICAgICAgICAgIGlmIChwbGFjZS5yYXRpbmcpIHsKICAgICAgICAgICAgICBpbm5lckNvbnRlbnQgKz0gJzx1bCBjbGFzcz0ibGlzdC1pbmxpbmUgcmF0aW5nIj4nOwoKICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IE1hdGguZmxvb3IocGxhY2UucmF0aW5nKTsgaSsrKSB7CiAgICAgICAgICAgICAgICBpbm5lckNvbnRlbnQgKz0gJzxsaT48c3BhbiBjbGFzcz0iZmEgZmEtc3RhciI+PC9zcGFuPjwvbGk+JzsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIDsKICAgICAgICAgICAgICBpbm5lckNvbnRlbnQgKz0gJzwvdWw+JzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHBsYWNlLmFkcl9hZGRyZXNzKSB7CiAgICAgICAgICAgICAgaW5uZXJDb250ZW50ICs9ICc8cCBjbGFzcz0iYWRkcmVzcyI+JyArIHBsYWNlLmFkcl9hZGRyZXNzICsgJzwvcD4nOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAocGxhY2UuaW50ZXJuYXRpb25hbF9waG9uZV9udW1iZXIpIHsKICAgICAgICAgICAgICBpbm5lckNvbnRlbnQgKz0gJzxwIGNsYXNzPSJwaG9uZSI+JyArIHBsYWNlLmludGVybmF0aW9uYWxfcGhvbmVfbnVtYmVyICsgJzwvcD4nOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpbm5lckNvbnRlbnQgKz0gJzwvZGl2Pic7CiAgICAgICAgICAgIHZhciBpbmZvd2luZG93ID0gbmV3IGdvb2dsZS5tYXBzLkluZm9XaW5kb3coewogICAgICAgICAgICAgIHBvc2l0aW9uOiBwbGFjZS5nZW9tZXRyeS5sb2NhdGlvbiwKICAgICAgICAgICAgICBtYXhXaWR0aDogMjAwLAogICAgICAgICAgICAgIGNvbnRlbnQ6IGlubmVyQ29udGVudCwKICAgICAgICAgICAgICBkaXNhYmxlQXV0b1BhbjogdHJ1ZQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaW5mb3dpbmRvdy5vcGVuKG1hcCk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBjZW50ZXJNYXAobWFwLCBvZmZzZXRYLCBvZmZzZXRZLCByZWxhdGl2ZSkgewogICAgICAgICAgdmFyIG9mZnNldFggPSB0eXBlb2Ygb2Zmc2V0WCA9PSAnbnVtYmVyJyA/IG9mZnNldFggOiAwLAogICAgICAgICAgICAgIG9mZnNldFkgPSB0eXBlb2Ygb2Zmc2V0WSA9PSAnbnVtYmVyJyA/IG9mZnNldFkgOiAwLAogICAgICAgICAgICAgIHpvb20gPSBtYXAuZ2V0Wm9vbSgpLAogICAgICAgICAgICAgIHNjYWxlID0gTWF0aC5wb3coMiwgem9vbSksCiAgICAgICAgICAgICAgbm9ydGhFYXN0ID0gbWFwLmdldEJvdW5kcygpLmdldE5vcnRoRWFzdCgpLAogICAgICAgICAgICAgIHNvdXRoV2VzdCA9IG1hcC5nZXRCb3VuZHMoKS5nZXRTb3V0aFdlc3QoKSwKICAgICAgICAgICAgICB3aWR0aCA9IE1hdGguYWJzKG5vcnRoRWFzdC5sbmcoKSAtIHNvdXRoV2VzdC5sbmcoKSksCiAgICAgICAgICAgICAgaGVpZ2h0ID0gTWF0aC5hYnMobm9ydGhFYXN0LmxhdCgpIC0gc291dGhXZXN0LmxhdCgpKSwKICAgICAgICAgICAgICBwb2ludDEgPSBtYXAuZ2V0UHJvamVjdGlvbigpLmZyb21MYXRMbmdUb1BvaW50KG1hcC5nZXRDZW50ZXIoKSksCiAgICAgICAgICAgICAgcG9pbnQyID0gbmV3IGdvb2dsZS5tYXBzLlBvaW50KG9mZnNldFggLyBzY2FsZSwgb2Zmc2V0WSAvIHNjYWxlKSwKICAgICAgICAgICAgICBjZW50ZXJQb2ludCA9IG5ldyBnb29nbGUubWFwcy5Qb2ludChwb2ludDEueCAtIHBvaW50Mi54LCBwb2ludDEueSAtIHBvaW50Mi55KSwKICAgICAgICAgICAgICBjZW50ZXIgPSBtYXAuZ2V0UHJvamVjdGlvbigpLmZyb21Qb2ludFRvTGF0TG5nKGNlbnRlclBvaW50KTsKCiAgICAgICAgICBpZiAocmVsYXRpdmUpIHsKICAgICAgICAgICAgY2VudGVyID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhtYXAuZ2V0Q2VudGVyKCkubGF0KCkgKyBoZWlnaHQgKiBvZmZzZXRZIC8gMTAwLCBtYXAuZ2V0Q2VudGVyKCkubG5nKCkgLSB3aWR0aCAqIG9mZnNldFggLyAxMDApOwogICAgICAgICAgfQoKICAgICAgICAgIG1hcC5zZXRDZW50ZXIoY2VudGVyKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhkYXRhKSB7CiAgICAgICAgICBpZiAoX3R5cGVvZihkYXRhKSA9PSAnb2JqZWN0JykgewogICAgICAgICAgICBpZiAoZGF0YS5tYXBab29tKSBtYXBPcHRpb25zLnpvb20gPSBkYXRhLm1hcFpvb207CiAgICAgICAgICAgIGlmIChkYXRhLnJlbGF0aXZlT2Zmc2V0KSByZWxhdGl2ZU9mZnNldCA9IHRydWU7CiAgICAgICAgICAgIGlmIChkYXRhLm9mZnNldFgpIG9mZnNldFggPSBkYXRhLm9mZnNldFg7ZWxzZSBvZmZzZXRYID0gMDsKICAgICAgICAgICAgaWYgKGRhdGEub2Zmc2V0WSkgb2Zmc2V0WSA9IGRhdGEub2Zmc2V0WTtlbHNlIG9mZnNldFkgPSAwOwogICAgICAgICAgICBpZiAoZGF0YS5tYXJrZXJJbWFnZVBhdGggJiYgdHlwZW9mIGRhdGEubWFya2VySW1hZ2VQYXRoID09ICdzdHJpbmcnKSBpY29uID0gZGF0YS5tYXJrZXJJbWFnZVBhdGg7CiAgICAgICAgICAgIGlmIChkYXRhLm1hcmtlckFkZHJlc3MgJiYgdHlwZW9mIGRhdGEubWFya2VyQWRkcmVzcyA9PSAnc3RyaW5nJykgYWRkcmVzcyA9IGRhdGEubWFya2VyQWRkcmVzcztlbHNlIGlmIChkYXRhLm1hcmtlckxhdExuZyAmJiBfdHlwZW9mKGRhdGEubWFya2VyTGF0TG5nKSA9PSAnb2JqZWN0JykgbWFya2VyTGF0TG5nID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhkYXRhLm1hcmtlckxhdExuZ1swXSwgZGF0YS5tYXJrZXJMYXRMbmdbMV0pOwogICAgICAgICAgICBpZiAoZGF0YS5iYWxsb29ucyAmJiBfdHlwZW9mKGRhdGEuYmFsbG9vbnMpID09ICdvYmplY3QnICYmIGRhdGEuYmFsbG9vbnMubGVuZ3RoKSBiYWxsb29ucyA9IGRhdGEuYmFsbG9vbnM7CiAgICAgICAgICB9CgogICAgICAgICAgZ2VvY29kZXIgPSBuZXcgZ29vZ2xlLm1hcHMuR2VvY29kZXIoKTsKCiAgICAgICAgICBpZiAoX3R5cGVvZihtYXJrZXJMYXRMbmcpID09ICdvYmplY3QnKSB7CiAgICAgICAgICAgIGNyZWF0ZU1hcCgpOwogICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYWRkcmVzcyA9PSAnc3RyaW5nJykgewogICAgICAgICAgICBnZW9jb2Rlci5nZW9jb2RlKHsKICAgICAgICAgICAgICAnYWRkcmVzcyc6IGFkZHJlc3MKICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHJlc3VsdHMsIHN0YXR1cykgewogICAgICAgICAgICAgIG1hcmtlckxhdExuZyA9IHJlc3VsdHNbMF0uZ2VvbWV0cnkubG9jYXRpb247CiAgICAgICAgICAgICAgY3JlYXRlTWFwKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZmFpbENhbGxiYWNrKCkgewogICAgICAgICAgX3RoaXMubG9nKCJDYW4ndCBwYXJzZSBtYXAgc2V0dGluZ3MhIik7CgogICAgICAgICAgbmV3IGdvb2dsZS5tYXBzLk1hcChtYXBFbCwgewogICAgICAgICAgICBjZW50ZXI6IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoMCwgMCksCiAgICAgICAgICAgIHpvb206IDIKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKCQodGhpcykuZGF0YSgnc2V0dGluZ3MnKSkgewogICAgICAgICAgJC5nZXRKU09OKCQodGhpcykuZGF0YSgnc2V0dGluZ3MnKSwgc3VjY2Vzc0NhbGxiYWNrKS5mYWlsKGZhaWxDYWxsYmFjayk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGZhaWxDYWxsYmFjaygpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICAvLyBjb3VudCBkb3duIHRpbWVyCiAgY291bnRkb3duSW5pdDogZnVuY3Rpb24gY291bnRkb3duSW5pdCgpIHsKICAgIGlmICgkKCcuY291bnRkb3duJykubGVuZ3RoKSB7CiAgICAgIGlmICh0eXBlb2YgJC5mbi5jb3VudGRvd24gPT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHZhciBmdXR1cmVEYXRlID0gbmV3IERhdGUoKTsKICAgICAgICAkY291bnRkb3duID0gJCgnLmNvdW50ZG93bicpOyAvLyBjb3VudCBkb3duIDEwIGRheXMgZnJvbSB0b2RheQoKICAgICAgICBmdXR1cmVEYXRlLnNldERhdGUoZnV0dXJlRGF0ZS5nZXREYXRlKCkgKyAxMCk7IC8vIG9yIHNldCBzcGVjaWZpYyBkYXRlIGluIHRoZSBmdXR1cmUKICAgICAgICAvLyBmdXR1cmVEYXRlID0gbmV3IERhdGUoMjAxNCwgNywgMjYpOwoKICAgICAgICAkY291bnRkb3duLmNvdW50ZG93bih7CiAgICAgICAgICB1bnRpbDogZnV0dXJlRGF0ZSwKICAgICAgICAgIGNvbXBhY3Q6IHRydWUsCiAgICAgICAgICBwYWRaZXJvZXM6IHRydWUsCiAgICAgICAgICBsYXlvdXQ6ICQoJy5jb3VudGRvd24nKS5odG1sKCkKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmxvZygnQ2FuXCd0IGZpbmQgalF1ZXJ5LmNvdW5kb3duIGZ1bmN0aW9uJyk7CiAgICAgIH0KICAgIH0KICB9LAogIG1hc29ucnlJbml0OiBmdW5jdGlvbiBtYXNvbnJ5SW5pdCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgaWYgKCQoJy5tYXNvbnJ5JykubGVuZ3RoICYmIHR5cGVvZiAkLmZuLm1hc29ucnkgPT0gJ2Z1bmN0aW9uJykgewogICAgICAkKCcubWFzb25yeScpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgIHZhciAkY29udGFpbmVyID0gJCh0aGlzKTsKICAgICAgICAkY29udGFpbmVyLm1hc29ucnkoewogICAgICAgICAgaXRlbVNlbGVjdG9yOiAnLm1hc29ucnktaXRlbScsCiAgICAgICAgICBpc0FuaW1hdGVkOiB0cnVlLAogICAgICAgICAgY29sdW1uV2lkdGg6IGZ1bmN0aW9uIGNvbHVtbldpZHRoKGNvbnRhaW5lcldpZHRoKSB7CiAgICAgICAgICAgIGlmIChjb250YWluZXJXaWR0aCA+IDcyMCkgewogICAgICAgICAgICAgICRjb250YWluZXIucmVtb3ZlQ2xhc3MoJ3dpZHRoNDAwJykucmVtb3ZlQ2xhc3MoJ3dpZHRoNzIwJyk7CiAgICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lcldpZHRoIC8gNDsKICAgICAgICAgICAgfSBlbHNlIGlmIChjb250YWluZXJXaWR0aCA+IDQwMCkgewogICAgICAgICAgICAgICRjb250YWluZXIuYWRkQ2xhc3MoJ3dpZHRoNzIwJykucmVtb3ZlQ2xhc3MoJ3dpZHRoNDAwJyk7CiAgICAgICAgICAgICAgaWYgKCRjb250YWluZXIuaXMoJy5zcGVha2VycycpKSByZXR1cm4gY29udGFpbmVyV2lkdGggLyAyO2Vsc2UgcmV0dXJuIGNvbnRhaW5lcldpZHRoIC8gMzsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAkY29udGFpbmVyLmFkZENsYXNzKCd3aWR0aDQwMCcpLnJlbW92ZUNsYXNzKCd3aWR0aDcyMCcpOwogICAgICAgICAgICAgIGlmICgkY29udGFpbmVyLmlzKCcuc3BlYWtlcnMnKSkgcmV0dXJuIGNvbnRhaW5lcldpZHRoO2Vsc2UgcmV0dXJuIGNvbnRhaW5lcldpZHRoIC8gMjsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LAogIGdhbGxlcnlTbGlkZXJJbml0OiBmdW5jdGlvbiBnYWxsZXJ5U2xpZGVySW5pdCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgaWYgKCQoJy5nYWxsZXJ5LmxpZ2h0LXNsaWRlcicpLmxlbmd0aCAmJiB0eXBlb2YgJC5mbi5ieFNsaWRlciA9PSAnZnVuY3Rpb24nKSB7CiAgICAgICQoJy5nYWxsZXJ5LmxpZ2h0LXNsaWRlcicpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgIHZhciAkY29udGFpbmVyID0gJCh0aGlzKSwKICAgICAgICAgICAgJGltZ1NMaWRlciA9ICRjb250YWluZXIuZmluZCgnLmltZy1zbGlkZXInKSwKICAgICAgICAgICAgJGRlc2NyU2xpZGVyID0gJGNvbnRhaW5lci5maW5kKCcuZGVzY3JpcHRpb24tc2xpZGVyJyk7CiAgICAgICAgJGltZ1NMaWRlci5maW5kKCdsaSA+IGltZycpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSwKICAgICAgICAgICAgICAkbGkgPSAkdGhpcy5wYXJlbnQoKSwKICAgICAgICAgICAgICBpbWdTcmMgPSAkdGhpcy5hdHRyKCdzcmMnKTsKICAgICAgICAgICRsaS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCAndXJsKCInICsgaW1nU3JjICsgJyIpJykuZGF0YSgnaW1nU3JjJywgaW1nU3JjKTsKICAgICAgICAgICR0aGlzLnJlbW92ZSgpOwogICAgICAgIH0pOwoKICAgICAgICBpZiAoJGltZ1NMaWRlci5sZW5ndGggJiYgJGRlc2NyU2xpZGVyLmxlbmd0aCkgewogICAgICAgICAgdmFyIGNvdW50SW1nTWluSGVpZ2h0ID0gZnVuY3Rpb24gY291bnRJbWdNaW5IZWlnaHQoJHNsaWRlKSB7CiAgICAgICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTsKICAgICAgICAgICAgaW1nLnNyYyA9ICRzbGlkZS5kYXRhKCdpbWdTcmMnKTsKCiAgICAgICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKiAkc2xpZGUub3V0ZXJXaWR0aCgpIC8gdGhpcy53aWR0aDsKICAgICAgICAgICAgICAkaW1nU0xpZGVyLmNzcygnbWluLWhlaWdodCcsIGhlaWdodCk7CiAgICAgICAgICAgICAgcmV0dXJuIGhlaWdodDsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIHJldHVybiBpbWcub25sb2FkOwogICAgICAgICAgfTsKCiAgICAgICAgICAkaW1nU0xpZGVyLmJ4U2xpZGVyKHsKICAgICAgICAgICAgcGFnZXI6IGZhbHNlLAogICAgICAgICAgICBjb250cm9sczogZmFsc2UsCiAgICAgICAgICAgIG1vZGU6ICdmYWRlJywKICAgICAgICAgICAgYWRhcHRpdmVIZWlnaHQ6IHRydWUsCiAgICAgICAgICAgIG9uU2xpZGVyTG9hZDogZnVuY3Rpb24gb25TbGlkZXJMb2FkKGN1cnJlbnRJbmRleCkgewogICAgICAgICAgICAgICRzbGlkZSA9ICRpbWdTTGlkZXIuZmluZCgnPiBsaScpLmVxKGN1cnJlbnRJbmRleCk7CiAgICAgICAgICAgICAgaGVpZ2h0ID0gY291bnRJbWdNaW5IZWlnaHQoJHNsaWRlKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhoZWlnaHQpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBvblNsaWRlQmVmb3JlOiBmdW5jdGlvbiBvblNsaWRlQmVmb3JlKCRzbGlkZSkgewogICAgICAgICAgICAgIGNvdW50SW1nTWluSGVpZ2h0KCRzbGlkZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgJGRlc2NyU2xpZGVyLmJ4U2xpZGVyKHsKICAgICAgICAgICAgY29udHJvbHM6IGZhbHNlLAogICAgICAgICAgICBhZGFwdGl2ZUhlaWdodDogdHJ1ZSwKICAgICAgICAgICAgb25TbGlkZUJlZm9yZTogZnVuY3Rpb24gb25TbGlkZUJlZm9yZSgkc2xpZGVFbGVtZW50LCBvbGRJbmRleCwgbmV3SW5kZXgpIHsKICAgICAgICAgICAgICAkaW1nU0xpZGVyLmdvVG9TbGlkZShuZXdJbmRleCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICAvL3N0aWNreSBtZW51IGluaXRpYWxpemF0aW9uCiAgc3RpY2tNZW51OiBmdW5jdGlvbiBzdGlja01lbnUoKSB7CiAgICB2YXIgJGhlYWRlciA9ICQoJ2hlYWRlcicpOwogICAgJGhlYWRlci5jc3MoJ21pbi1oZWlnaHQnLCAkaGVhZGVyLmhlaWdodCgpKTsKICAgICRoZWFkZXIuYWRkQ2xhc3MoJ2ZpeGVkJyk7CiAgICAkKCcuZmFkZS1pbi1vbi1zdGljaycpLmZhZGVJbigpOwogIH0sCiAgdW5zdGlja01lbnU6IGZ1bmN0aW9uIHVuc3RpY2tNZW51KCkgewogICAgdmFyICRoZWFkZXIgPSAkKCdoZWFkZXInKTsKICAgICRoZWFkZXIucmVtb3ZlQ2xhc3MoJ2ZpeGVkJyk7CiAgICAkaGVhZGVyLmNzcygnbWluLWhlaWdodCcsICcnKTsKICAgICQoJy5mYWRlLWluLW9uLXN0aWNrJykuZmFkZU91dCgpOwogIH0sCiAgLy9vbmUgcGFnZSBtZW51IG5hdmlnYXRpb24KICBvbmVQYWdlTmF2SW5pdDogZnVuY3Rpb24gb25lUGFnZU5hdkluaXQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIGlmICh0eXBlb2YgJC5mbi53YXlwb2ludCAhPSAndW5kZWZpbmVkJykgewogICAgICB2YXIgJG1lbnVMaW5rcyA9ICQoJy5uYXZpZ2F0aW9uLWxpc3QgYScpLm5vdCgnW2hyZWY9IiMiXScpLmZpbHRlcihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIC8jXHcrLy50ZXN0KHRoaXMuaHJlZik7CiAgICAgIH0pLAogICAgICAgICAgZW50ZXJIYW5kbGVyID0gZnVuY3Rpb24gZW50ZXJIYW5kbGVyKHRoYXQsIGRpcmVjdGlvbikgewogICAgICAgIHZhciBpZCA9IHRoYXQuaWQsCiAgICAgICAgICAgICRpdGVtID0gJCgnLm5hdmlnYXRpb24tbGlzdCBhJykuZmlsdGVyKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiB0aGlzLmhyZWYuaW5kZXhPZignIycgKyB0aGF0LmlkKSA+IC0xOwogICAgICAgIH0pOwogICAgICAgICQoJy5uYXZpZ2F0aW9uLWxpc3QgLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTsKICAgICAgICAkaXRlbS5hZGRDbGFzcygnYWN0aXZlJyk7IC8vIHB1c2ggYW5jaG9yIHRvIGJyb3dzZXIgVVJMCgogICAgICAgIGlmIChfdGhpcy5vcHRpb25zLm9uZVBhZ2VOYXZIYXNoQ2hhbmdlKSB7CiAgICAgICAgICBpZiAoaGlzdG9yeS5wdXNoU3RhdGUpIHsKICAgICAgICAgICAgaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgbnVsbCwgJyMnICsgaWQpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMubG9nKCdCcm93c2VyIGRvblwndCBzdXBwb3J0IGhpc3RvcnkgQVBJJyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICAgICAgbGVhdmVIYW5kbGVyID0gZnVuY3Rpb24gbGVhdmVIYW5kbGVyKHRoYXQsIGRpcmVjdGlvbikgewogICAgICAgIHZhciAkaXRlbSA9ICQoJy5uYXZpZ2F0aW9uLWxpc3QgYScpLmZpbHRlcihmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5ocmVmLmluZGV4T2YoJyMnICsgdGhhdC5pZCkgPiAtMTsKICAgICAgICB9KTsKICAgICAgICAkaXRlbS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7CiAgICAgIH07CgogICAgICAkbWVudUxpbmtzLmVhY2goZnVuY3Rpb24gKGluZGV4KSB7CiAgICAgICAgdmFyIGhyZWYgPSB0aGlzLmhyZWYsCiAgICAgICAgICAgIGFuY2hvcklkID0gaHJlZi5zdWJzdHJpbmcoaHJlZi5pbmRleE9mKCcjJyksIGhyZWYubGVuZ3RoKSwKICAgICAgICAgICAgJGJsb2NrID0gJChhbmNob3JJZCk7CgogICAgICAgIGlmICgkYmxvY2subGVuZ3RoKSB7CiAgICAgICAgICAkYmxvY2sud2F5cG9pbnQoZnVuY3Rpb24gKGRpcmVjdGlvbikgewogICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09ICdkb3duJykgewogICAgICAgICAgICAgIGVudGVySGFuZGxlcih0aGlzLmVsZW1lbnQsIGRpcmVjdGlvbik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIHsKICAgICAgICAgICAgb2Zmc2V0OiAwCiAgICAgICAgICB9KTsKICAgICAgICAgICRibG9jay53YXlwb2ludChmdW5jdGlvbiAoZGlyZWN0aW9uKSB7CiAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT0gJ2Rvd24nKSB7CiAgICAgICAgICAgICAgbGVhdmVIYW5kbGVyKHRoaXMuZWxlbWVudCwgZGlyZWN0aW9uKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBlbnRlckhhbmRsZXIodGhpcy5lbGVtZW50LCBkaXJlY3Rpb24pOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIG9mZnNldDogLSRibG9jay5vdXRlckhlaWdodCgpCiAgICAgICAgICB9KTsKICAgICAgICAgICRibG9jay53YXlwb2ludChmdW5jdGlvbiAoZGlyZWN0aW9uKSB7CiAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT0gJ3VwJykgewogICAgICAgICAgICAgIGxlYXZlSGFuZGxlcih0aGlzLmVsZW1lbnQsIGRpcmVjdGlvbik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIHsKICAgICAgICAgICAgb2Zmc2V0OiAnMTAwJScKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgICQoJ2JvZHknKS53YXlwb2ludChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGlkID0gJ2hlcm8nLAogICAgICAgICAgICAkaXRlbSA9ICQoJy5uYXZpZ2F0aW9uLWxpc3QgYVtocmVmPSIjJyArIGlkICsgJyJdJyk7CiAgICAgICAgJCgnLm5hdmlnYXRpb24tbGlzdCAuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpOwoKICAgICAgICBpZiAoJGl0ZW0ubGVuZ3RoKSB7CiAgICAgICAgICAkaXRlbS5hZGRDbGFzcygnYWN0aXZlJyk7CgogICAgICAgICAgaWYgKF90aGlzLm9wdGlvbnMub25lUGFnZU5hdkhhc2hDaGFuZ2UpIHsKICAgICAgICAgICAgaWYgKGhpc3RvcnkucHVzaFN0YXRlKSB7CiAgICAgICAgICAgICAgaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgbnVsbCwgJyMnICsgaWQpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzLmxvZygnQnJvd3NlciBkb25cJ3Qgc3VwcG9ydCBoaXN0b3J5IEFQSScpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgb2Zmc2V0OiAtMTAwCiAgICAgIH0pOwogICAgICAkKCdib2R5Jykub24oJ2NsaWNrJywgJ2FbaHJlZio9IiMiXScsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgIHZhciBocmVmID0gJCh0aGlzKS5hdHRyKCdocmVmJyksCiAgICAgICAgICAgIGFuY2hvcklkID0gaHJlZi5zdWJzdHJpbmcoaHJlZi5pbmRleE9mKCcjJyksIGhyZWYubGVuZ3RoKTsKCiAgICAgICAgaWYgKCQodGhpcykuYXR0cignZGF0YS10b2dnbGUnKSAmJiAkKHRoaXMpLmF0dHIoJ2RhdGEtdG9nZ2xlJykubGVuZ3RoKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBpZiAoJChhbmNob3JJZCkubGVuZ3RoKSB7CiAgICAgICAgICBfdGhpcy5hbmNob3JDbGlja0hhbmRsZXIoYW5jaG9ySWQpOwoKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5sb2coJ0NhblwndCBmaW5kIGpRdWVyeS53YXlwb2ludCBmdW5jdGlvbicpOwogICAgfQogIH0sCiAgLy9jdXN0b20gc21vb3RoIHNjcm9sbGluZyBmb3IgYWxsIG9ucGFnZSBhbmNob3JzCiAgYW5jaG9yQ2xpY2tIYW5kbGVyOiBmdW5jdGlvbiBhbmNob3JDbGlja0hhbmRsZXIoYW5jaG9ySWQpIHsKICAgIHZhciBfdGhpcyA9IHRoaXMsCiAgICAgICAgb2Zmc2V0VG9wID0gJChhbmNob3JJZCkub2Zmc2V0KCkudG9wIC0gJCgnLmhlYWRlcicpLmhlaWdodCgpLAogICAgICAgICRuYXYgPSAkKCcubmF2aWdhdGlvbi1saXN0JyksCiAgICAgICAgJGVsZW1zID0gJG5hdi5maW5kKCdhW2hyZWY9IicgKyBhbmNob3JJZCArICciXScpOwoKICAgICQoJ2JvZHksIGh0bWwnKS5hbmltYXRlKHsKICAgICAgc2Nyb2xsVG9wOiBvZmZzZXRUb3AKICAgIH0sIDQ1MCwgZnVuY3Rpb24gKCkgewogICAgICBpZiAoX3RoaXMub3B0aW9ucy5vbmVQYWdlTmF2SGFzaENoYW5nZSkgewogICAgICAgIGlmIChoaXN0b3J5LnB1c2hTdGF0ZSkgewogICAgICAgICAgaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgbnVsbCwgYW5jaG9ySWQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IGFuY2hvcklkOwogICAgICAgIH0KICAgICAgfQoKICAgICAgJG5hdi5maW5kKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpOwogICAgICAkZWxlbXMuYWRkQ2xhc3MoJ2FjdGl2ZScpOwogICAgfSk7CiAgfSwKICBjaGVja0hlYWRlclN0YXR1czogZnVuY3Rpb24gY2hlY2tIZWFkZXJTdGF0dXMoKSB7CiAgICBpZiAoJCgnaGVhZGVyJykubGVuZ3RoKSB7CiAgICAgIHZhciAkaGVhZGVyID0gJCgnaGVhZGVyJyksCiAgICAgICAgICBzY3JvbGxUb3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCksCiAgICAgICAgICBoZWFkZXJUb3AgPSAkaGVhZGVyLm9mZnNldCgpLnRvcDsKCiAgICAgIGlmIChzY3JvbGxUb3AgPj0gaGVhZGVyVG9wKSB7CiAgICAgICAgdGhpcy5zdGlja01lbnUoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnVuc3RpY2tNZW51KCk7CiAgICAgIH0KICAgIH0KICB9LAogIC8vb25sb2FkIGhhbmRsZXIKICB3aW5kb3dMb2FkSGVhbmRsZXI6IGZ1bmN0aW9uIHdpbmRvd0xvYWRIZWFuZGxlcihldmVudCkgewogICAgdGhpcy5sb2coJ1dpbmRvdyBsb2FkIGhhbmRsZXInKTsKCiAgICBpZiAod2luZG93LmxvY2F0aW9uLmhhc2gubGVuZ3RoKSB7CiAgICAgIHRoaXMuYW5jaG9yQ2xpY2tIYW5kbGVyKHdpbmRvdy5sb2NhdGlvbi5oYXNoKTsKICAgIH0KCiAgICBpZiAodGhpcy5vcHRpb25zLm9uZVBhZ2VOYXYpIHsKICAgICAgdGhpcy5vbmVQYWdlTmF2SW5pdCgpOwogICAgfQoKICAgIHRoaXMuY2hlY2tIZWFkZXJTdGF0dXMoKTsKICAgIHRoaXMubWFzb25yeUluaXQoKTsKICAgIHRoaXMuaGlkZVByZWxvYWRlcigpOwogIH0sCiAgLy9vbiByZXNpemUgaGFuZGxlcgogIHdpbmRvd1Jlc2l6ZUhhbmRsZXI6IGZ1bmN0aW9uIHdpbmRvd1Jlc2l6ZUhhbmRsZXIoZXZlbnQpIHsKICAgIHRoaXMuY2hlY2tNb2JpbGUoKTsKICAgIHRoaXMud2luZG93SGVpZ2h0QmxvY2soKTsKICAgIHRoaXMuY2VudGVyZWRCbG9jaygpOwogICAgdGhpcy5jYWxjdWxhdGVNZW51U2l6ZXMoKTsKICB9LAogIC8vb24gc2Nyb2xsIGhhbmRsZXIKICB3aW5kb3dTY3JvbGxIYW5kbGVyOiBmdW5jdGlvbiB3aW5kb3dTY3JvbGxIYW5kbGVyKGV2ZW50KSB7CiAgICB0aGlzLmNoZWNrSGVhZGVyU3RhdHVzKCk7CiAgfSwKICBzdHlsZVN3aXRjaGVySGFuZGxlcjogZnVuY3Rpb24gc3R5bGVTd2l0Y2hlckhhbmRsZXIoZXZlbnQsICRlbCkgewogICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgIHZhciBzd2l0Y2hlciA9ICQoJy5zdHlsZS1zd2l0Y2hlcicpOwoKICAgIGlmIChzd2l0Y2hlci5oYXNDbGFzcygnc3R5bGUtYWN0aXZlJykpIHsKICAgICAgc3dpdGNoZXIuYW5pbWF0ZSh7CiAgICAgICAgbWFyZ2luTGVmdDogJzAnCiAgICAgIH0sIDIwMCwgJ2xpbmVhcicpOwogICAgfSBlbHNlIHsKICAgICAgc3dpdGNoZXIuYW5pbWF0ZSh7CiAgICAgICAgbWFyZ2luTGVmdDogJzIyNScKICAgICAgfSwgMjAwLCAnbGluZWFyJyk7CiAgICB9CgogICAgc3dpdGNoZXIudG9nZ2xlQ2xhc3MoJ3N0eWxlLWFjdGl2ZScpOwogIH0sCiAgc3R5bGVTd2l0Y2hlckNvbG9ySGFuZGxlcjogZnVuY3Rpb24gc3R5bGVTd2l0Y2hlckNvbG9ySGFuZGxlcihldmVudCwgJGVsKSB7CiAgICB2YXIgJHRoaXMgPSAkZWwsCiAgICAgICAgY29sb3JOYW1lID0gJHRoaXMuYXR0cignZGF0YS1jb2xvcicpOwogICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICQoJy5zdHlsZS1zd2l0Y2hlci1jc3MnKS5yZW1vdmUoKTsKICAgICQoJ2hlYWQnKS5hcHBlbmQoJzxsaW5rIGNsYXNzPSJzdHlsZS1zd2l0Y2hlci1jc3MiIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4dC9jc3MiIGhyZWY9ImFzc2V0cy9jc3MvY29sb3JzLycgKyBjb2xvck5hbWUgKyAnLmNzcyI+Jyk7CiAgfSwKICBzdHlsZVN3aXRjaGVyVG9nZ2xlQW5pbWF0aW9uOiBmdW5jdGlvbiBzdHlsZVN3aXRjaGVyVG9nZ2xlQW5pbWF0aW9uKGV2ZW50LCAkZWwpIHsKICAgIGlmICgkZWwuZ2V0KDApLmNoZWNrZWQpIHsKICAgICAgJCgnLmFuaW1hdGVkJykuY3NzKCdvcGFjaXR5JywgJycpOwogICAgICB0aGlzLm9wdGlvbnMuYW5pbWF0aW9ucyA9IHRydWU7CiAgICB9IGVsc2UgewogICAgICAkKCcuYW5pbWF0ZWQnKS5jc3MoJ29wYWNpdHknLCAxKTsKICAgICAgdGhpcy5vcHRpb25zLmFuaW1hdGlvbnMgPSBmYWxzZTsKICAgIH0KICB9LAogIC8vc21hbGwgYmFjay10by10b3AgbGluayBmdW5jdGlvbgogIGJhY2tUb1RvcEhhbmRsZXI6IGZ1bmN0aW9uIGJhY2tUb1RvcEhhbmRsZXIoKSB7CiAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7CiAgICAgIHNjcm9sbFRvcDogMCwKICAgICAgZWFzaW5nOiAnc3dpbmcnCiAgICB9LCA3NTApOwogIH0sCiAgc2V0RXZlbnRIYW5kbGVyczogZnVuY3Rpb24gc2V0RXZlbnRIYW5kbGVycygpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIF90aGlzLndpbmRvd0xvYWRIZWFuZGxlcihldmVudCk7CiAgICB9KTsKICAgICQod2luZG93KS5vbigncmVzaXplJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIF90aGlzLndpbmRvd1Jlc2l6ZUhhbmRsZXIoZXZlbnQpOwogICAgfSk7CiAgICAkKHdpbmRvdykub24oJ3Njcm9sbCcsIGZ1bmN0aW9uIChldmVudCkgewogICAgICBfdGhpcy53aW5kb3dTY3JvbGxIYW5kbGVyKGV2ZW50KTsKICAgIH0pOwogICAgJCgnLmJhY2stdG8tdG9wJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgogICAgICBfdGhpcy5iYWNrVG9Ub3BIYW5kbGVyKCk7CiAgICB9KTsKICAgICQoJy5uYXZiYXItY29sbGFwc2UnKS5vbignbW91c2V3aGVlbCBET01Nb3VzZVNjcm9sbCcsIGZ1bmN0aW9uIChldmVudCkgewogICAgICBpZiAoX3RoaXMubW9iaWxlRGV2aWNlKSB7CiAgICAgICAgdmFyIGUwID0gZXZlbnQub3JpZ2luYWxFdmVudCwKICAgICAgICAgICAgZGVsdGEgPSBlMC53aGVlbERlbHRhIHx8IC1lMC5kZXRhaWw7CiAgICAgICAgdGhpcy5zY3JvbGxUb3AgLT0gZGVsdGE7CiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgfQogICAgfSk7CiAgICAkKCcuc3R5bGUtdG9nZ2xlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIF90aGlzLnN0eWxlU3dpdGNoZXJIYW5kbGVyKGV2ZW50LCAkKHRoaXMpKTsKICAgIH0pOwogICAgJCgnLnN0eWxlLXN3aXRjaGVyIC5jb2xvcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkgewogICAgICBfdGhpcy5zdHlsZVN3aXRjaGVyQ29sb3JIYW5kbGVyKGV2ZW50LCAkKHRoaXMpKTsKICAgIH0pOwogICAgJCgnI2FuaW1hdGlvbnNfc3dpdGNoJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uIChldmVudCkgewogICAgICBfdGhpcy5zdHlsZVN3aXRjaGVyVG9nZ2xlQW5pbWF0aW9uKGV2ZW50LCAkKHRoaXMpKTsKICAgIH0pOwogICAgdGhpcy5sb2coJ1NldCBldmVudCBoZW5kbGVycycpOwogIH0sCiAgaGlkZVByZWxvYWRlcjogZnVuY3Rpb24gaGlkZVByZWxvYWRlcihjYWxsYmFjaykgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAkKCcucHJlbG9hZGVyLW1hc2snKS5kZWxheSg1MDApLmZhZGVPdXQoNjAwKTsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5pbml0QW5pbWF0aW9ucygpOwogICAgfSwgNzAwKTsKCiAgICBpZiAoY2FsbGJhY2spIHsKICAgICAgY2FsbGJhY2soKTsKICAgIH0KICB9LAogIGluaXQ6IGZ1bmN0aW9uIGluaXQob3B0aW9ucykgewogICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQodGhpcy5kZWZhdWx0cywgb3B0aW9ucywgJCgnYm9keScpLmRhdGEoKSk7CiAgICB0aGlzLmxvZygnSW5pdCcpOwogICAgdGhpcy5jaGVja01vYmlsZSgpOwogICAgdGhpcy50YWJOYXZUb1NlbGVjdCgpOwogICAgdGhpcy5jb3VudGRvd25Jbml0KCk7CiAgICBpZiAodGhpcy5vcHRpb25zLnN0eWxlU3dpdGNoZXIpIHRoaXMuYnVpbGRTdHlsZVN3aXRjaGVyKCk7CiAgICBpZiAodGhpcy5vcHRpb25zLnNtb290aFNjcm9sbCkgdGhpcy5zbW9vdGhTY3JvbGxJbml0KCk7CiAgICBpZiAodGhpcy5vcHRpb25zLmFqYXhlZEZvcm0pIHRoaXMuZm9ybUluaXQoKTsKICAgIGlmICh0aGlzLm9wdGlvbnMucHNldWRvU2VsZWN0KSB0aGlzLmluaXRQc2V1ZG9TZWxlY3QoKTsKICAgIGlmICh0eXBlb2YgZ29vZ2xlICE9ICd1bmRlZmluZWQnKSB0aGlzLmluaXRHb29nbGVNYXAoKTsKICAgIHRoaXMud2luZG93SGVpZ2h0QmxvY2soKTsKICAgIHRoaXMuY2VudGVyZWRCbG9jaygpOwogICAgdGhpcy5jYWxjdWxhdGVNZW51U2l6ZXMoKTsKICAgIHRoaXMudmlkZW9CYWNrZ3JvdW5kSW5pdCgpOwogICAgdGhpcy5nYWxsZXJ5U2xpZGVySW5pdCgpOwogICAgdGhpcy5zZXRFdmVudEhhbmRsZXJzKCk7CiAgfQp9OwokKCcubmF2aWdhdGlvbi1pdGVtJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgaWYgKCQoJyNuYXZpZ2F0aW9uJykuaGFzQ2xhc3MoJ2luJykpIHsKICAgICQoJyNuYXZpZ2F0aW9uJykucmVtb3ZlQ2xhc3MoJ2luJyk7CiAgfQp9KTs="},{"version":3,"sources":["/Users/norbert.demeny/Projects/Personal/Crypto/midnightshow/vendors/ventcamp.js"],"names":["Ventcamp","$","document","on","init","ready","jQuery","defaults","log","styleSwitcher","animations","onePageNav","alwaysMobileMenuMode","mobileMenuMaxWidth","smoothScroll","smoothScrollSpeed","pseudoSelect","ajaxedForm","ajaxedFormSuccessMsg","ajaxedFormErrorMsg","toastrPositionClass","mobileDevice","msg","options","console","buildStyleSwitcher","template","append","checkMobile","mobileDeviceOld","test","navigator","userAgent","window","width","initAnimations","_this","css","not","each","text","data","fn","appear","$el","animation","animationDelay","animationDuration","addClass","one","closest","length","countTo","find","removeClass","accY","calculateMenuSizes","$dropdownItem","$navbarCollapse","winHeight","innerHeight","$this","$dropdown","headerHeight","outerHeight","windowHeightBlock","$blocks","height","centeredBlock","$parent","parent","elHeight","parentHeight","padding","videoBackgroundInit","$player","controlsTempalte","YTPlayer","initPseudoSelect","$select","makePseudoSelect","i","el","$options","$pseudoSelect","$input","$field","$li","value","disabled","selected","attr","after","id","name","remove","closePseudoSelect","stop","slideUp","setTimeout","openPseudoSelect","slideDown","selectItem","dropdownHeight","scrollTop","elemPosition","position","top","siblings","val","trigger","event","$liSelected","index","map","is","nextIndex","prevIndex","$prev","eq","$next","keyCode","last","first","preventDefault","target","tabNavToSelect","$nav","$active","html","wrapAll","before","$target","formInit","toastr","positionClass","validateOptions","submitHandler","doneHandler","failHandler","form","ajax","url","action","type","serialize","done","fail","rules","password","required","minlength","confirmPassword","equalTo","messages","$button","reset","success","alert","error","validate","$form","$fullnameField","$emailField","$responseBlock","email","first_name","last_name","fullname","split","escape","indexOf","initGoogleMap","mapEl","marker","geocoder","service","icon","address","markerLatLng","offsetX","offsetY","relativeOffset","balloons","mapOptions","zoom","scrollwheel","mapTypeControl","createMap","center","google","maps","Map","Marker","addListener","centerMap","createBalloons","places","PlacesService","balloon","textSearch","location","radius","query","results","status","PlacesServiceStatus","OK","place","getDetails","placeId","place_id","createMarkers","innerContent","rating","Math","floor","adr_address","international_phone_number","infowindow","InfoWindow","geometry","maxWidth","content","disableAutoPan","open","relative","getZoom","scale","pow","northEast","getBounds","getNorthEast","southWest","getSouthWest","abs","lng","lat","point1","getProjection","fromLatLngToPoint","getCenter","point2","Point","centerPoint","x","y","fromPointToLatLng","LatLng","setCenter","successCallback","mapZoom","markerImagePath","markerAddress","Geocoder","geocode","failCallback","getJSON","countdownInit","countdown","futureDate","Date","$countdown","setDate","getDate","until","compact","padZeroes","layout","masonryInit","masonry","$container","itemSelector","isAnimated","columnWidth","containerWidth","gallerySliderInit","bxSlider","$imgSLider","$descrSlider","imgSrc","countImgMinHeight","$slide","img","Image","src","onload","outerWidth","pager","controls","mode","adaptiveHeight","onSliderLoad","currentIndex","onSlideBefore","$slideElement","oldIndex","newIndex","goToSlide","stickMenu","$header","fadeIn","unstickMenu","fadeOut","onePageNavInit","waypoint","$menuLinks","filter","href","enterHandler","that","direction","$item","onePageNavHashChange","history","pushState","leaveHandler","anchorId","substring","$block","element","offset","anchorClickHandler","offsetTop","$elems","animate","hash","checkHeaderStatus","headerTop","windowLoadHeandler","hidePreloader","windowResizeHandler","windowScrollHandler","styleSwitcherHandler","switcher","hasClass","marginLeft","toggleClass","styleSwitcherColorHandler","colorName","styleSwitcherToggleAnimation","get","checked","backToTopHandler","easing","setEventHandlers","e0","originalEvent","delta","wheelDelta","detail","callback","delay","extend","smoothScrollInit"],"mappings":"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","sourcesContent":["/*\r\n*\r\n* Custom js snippets for Ventcamp v2.0\r\n* by Vivaco\r\n*\r\n*/\r\n\r\nvar Ventcamp;\r\n;(function($){\r\n    $(document).on('ready', function () {\r\n        Ventcamp.init();\r\n    });\r\n\r\n    $(document).ready(function () {\r\n        Ventcamp.init();\r\n    });\r\n\r\n})( jQuery );\r\n\r\n\r\n// Main theme functions start\r\nVentcamp = {\r\n    defaults: {\r\n        log: false,\r\n        styleSwitcher: false,\r\n        animations: true,\r\n        onePageNav: true,\r\n        alwaysMobileMenuMode: false,\r\n        mobileMenuMaxWidth: 768,\r\n        smoothScroll: false,\r\n        smoothScrollSpeed: 800,\r\n        pseudoSelect: true,\r\n        ajaxedForm: true,\r\n        ajaxedFormSuccessMsg: 'Success',\r\n        ajaxedFormErrorMsg: 'An error occured. Please try again later.',\r\n        toastrPositionClass: 'toast-top-full-width'\r\n    },\r\n\r\n    mobileDevice: false,\r\n\r\n    log: function (msg) {\r\n        if ( this.options.log ) console.log('%cStartupLy Log: ' + msg, 'color: #1ac6ff');\r\n    },\r\n\r\n    buildStyleSwitcher: function () {\r\n        var template = '<div class=\"style-switcher\"><a href=\"#\" class=\"style-toggle\"><i class=\"fa fa-cog\"></i></a><h6>Color palette</h6><ul class=\"template-set-color\"><li><a data-color=\"Blue\" class=\"color blue\" href=\"#\" title=\"style\"></a></li><li><a data-color=\"Pink\" class=\"color pink\" href=\"#\" title=\"main-pink\"></a></li><li><a data-color=\"Green\" class=\"color green\" href=\"#\" title=\"main-green\"></a></li><li><a data-color=\"Berry\" class=\"color berry\" href=\"#\" title=\"main-berry\"></a></li><li><a data-color=\"Orange\" class=\"color orange\" href=\"#\" title=\"main-orange\"></a></li></ul><div class=\"template-animations-switch\"><h6>Animations</h6><input id=\"animations_switch\" type=\"checkbox\" checked=\"checked\" /><label for=\"animations_switch\"><i></i></label></div></div>'\r\n\r\n        $('body').append(template);\r\n    },\r\n\r\n    // check if site is laoded from mobile device\r\n    checkMobile: function () {\r\n        mobileDeviceOld = this.mobileDevice\r\n\r\n        if ( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || $(window).width() < this.options.mobileMenuMaxWidth ) {\r\n            this.mobileDevice = true;\r\n\r\n            this.log('Mobile device');\r\n        }else {\r\n            this.mobileDevice = false;\r\n\r\n            this.log('Desktop')\r\n        }\r\n    },\r\n\r\n    // init animations on page\r\n    initAnimations: function () {\r\n        var _this = this;\r\n\r\n        if ( this.mobileDevice || !this.options.animations ) {\r\n            $('.animated').css('opacity', 1);\r\n\r\n            this.log( 'Remove animations' );\r\n\r\n            $('.animated .counter-block .count').not('.countdown .counter-block  .count').each(function () {\r\n                $(this).text( $(this).data('to') );\r\n            });\r\n\r\n        }else if ( typeof $.fn.appear == 'function' ) {\r\n            this.log( 'Init animations' );\r\n\r\n            $('.animated').appear(function() {\r\n                var $el = $(this),\r\n                    animation = $el.data('animation'),\r\n                    animationDelay = $el.data('delay') || 0,\r\n                    animationDuration = $el.data('duration') || 1000;\r\n\r\n                if ( _this.options.animations ) {\r\n                    $el.css({\r\n                        '-webkit-animation-delay': animationDelay + 'ms',\r\n                        'animation-delay': animationDelay + 'ms',\r\n                        '-webkit-animation-duration': animationDuration/1000 + 's',\r\n                        'animation-duration': animationDuration/1000 + 's'\r\n                    });\r\n\r\n                    $el.addClass(animation);\r\n\r\n                    _this.log( 'Play animation ' + animation + ' with delay = ' + animationDelay + 'ms and duration = ' + animationDuration + 'ms');\r\n\r\n                    $el.one('webkitAnimationStart mozAnimationStart MSAnimationStart oanimationstart animationstart', function() {\r\n                        if ( !$el.closest('.coundown').length ) {\r\n                            if ( typeof $.fn.countTo == 'function' ) {\r\n                                if ( $el.find('.count').length ) $el.find('.count').countTo();\r\n                            } else {\r\n                                this.log( 'Can\\'t find jQuery.countTo function' );\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                }else {\r\n                    $el.removeClass('animated');\r\n\r\n                    if ( !$el.closest('.coundown').length ) {\r\n                        if ( typeof $.fn.countTo == 'function' ) {\r\n                            if ( $el.find('.count').length ) $el.find('.count').countTo();\r\n                        } else {\r\n                            this.log( 'Can\\'t find jQuery.countTo function' );\r\n                        }\r\n                    }\r\n                }\r\n            }, {accY: -150});\r\n\r\n        }else {\r\n            $('.animated').css('opacity', 1);\r\n\r\n            this.log( 'Can\\'t find jQuery.appear function' );\r\n            this.log( 'Remove animations' );\r\n        }\r\n\r\n        if ( $('.counter-block').not('.animated').not('.animated .counter-block').not('.countdown .counter-block').length ) {\r\n            $('.counter-block').not('.animated').not('.animated .counter-block').not('.countdown .counter-block').each( function () {\r\n                if ( typeof $.fn.appear == 'function' && typeof $.fn.countTo == 'function' ) {\r\n                    $(this).appear(function () {\r\n                        $(this).find('.count').countTo();\r\n                    });\r\n\r\n                }else {\r\n                    $(this).find('.count').text( $(this).find('.count').data('to') );\r\n\r\n                }\r\n            });\r\n        }\r\n    },\r\n\r\n    calculateMenuSizes: function () {\r\n        var _this = this,\r\n            $dropdownItem = $('.navigation-item.dropdown'),\r\n            $navbarCollapse = $('.navbar-collapse'),\r\n            winHeight = window.innerHeight;\r\n\r\n        if ( $dropdownItem.length ) {\r\n            $dropdownItem.each( function () {\r\n                var $this = $(this),\r\n                    $dropdown = $this.find('.dropdown-menu'),\r\n                    headerHeight = $dropdownItem.closest('header').outerHeight();\r\n\r\n                if ( !_this.mobileDevice ) {\r\n                    $dropdown.css( 'max-height', winHeight - headerHeight - 50 );\r\n\r\n                }else {\r\n                    $dropdown.css( 'max-height', '' );\r\n\r\n                }\r\n            });\r\n        }\r\n\r\n        if ( $navbarCollapse.length ) {\r\n            $navbarCollapse.each( function () {\r\n                if ( _this.mobileDevice ) {\r\n                    var headerHeight = $(this).closest('header').outerHeight();\r\n\r\n                    $(this).css('max-height', winHeight - headerHeight);\r\n                }\r\n            });\r\n        }\r\n\r\n    },\r\n\r\n    windowHeightBlock: function () {\r\n        var $blocks = $('.window-height'),\r\n            height = window.innerHeight;\r\n\r\n        if ( $blocks.length ) {\r\n            $blocks.each(function () {\r\n                $(this).css('min-height', height);\r\n            });\r\n        }\r\n\r\n        this.log( 'Init window height blocks');\r\n    },\r\n\r\n    centeredBlock: function() {\r\n        var $blocks = $('.centered-block');\r\n\r\n        if ( $blocks.length ) {\r\n            $blocks.each( function () {\r\n                var $el = $(this),\r\n                    $parent = $el.parent(),\r\n                    elHeight = $el.outerHeight(),\r\n                    parentHeight = $parent.outerHeight(),\r\n                    padding = (parentHeight - elHeight) / 2;\r\n\r\n                if ( padding >= 0 ) {\r\n                    $parent.css({'padding-top': padding, 'padding-bottom': 0 });\r\n                }\r\n            });\r\n        }\r\n\r\n        this.log( 'Init centered blocks');\r\n    },\r\n\r\n    videoBackgroundInit: function () {\r\n        var _this = this;\r\n\r\n        $('.ytp-player-background').each( function() {\r\n            var $el = $(this),\r\n                $player,\r\n                controlsTempalte;\r\n\r\n            if ( $el.data('video') && $el.data('video').length ) {\r\n                $el.css('background-image', 'url(https://i.ytimg.com/vi/' + $el.data('video') + '/maxresdefault.jpg)')\r\n            }\r\n\r\n            if( !_this.mobileDevice && typeof $.fn.YTPlayer == 'function' ) {\r\n                _this.log( 'Init video background blocks');\r\n\r\n                $player = $el.YTPlayer();\r\n            } else {\r\n                $el.addClass('no-video-bg');\r\n\r\n                if ( typeof $.fn.YTPlayer != 'function' ) {\r\n                    _this.log( 'Can\\'t find jQuery.YTPlayer function. Video background blocks doesn\\'t work.' );\r\n                }else {\r\n                    _this.log( 'Can\\'t init video background blocks.');\r\n                }\r\n            }\r\n        });\r\n    },\r\n\r\n    initPseudoSelect: function () {\r\n        var $select = $('select');\r\n\r\n        if ( $select.length ) {\r\n            $select.each(this.makePseudoSelect);\r\n        }\r\n    },\r\n\r\n    makePseudoSelect: function (i, el) {\r\n        var $el = $(el),\r\n            $options = $el.find('option'),\r\n            $pseudoSelect = $('<div class=\"pseudo-select\"></div>'),\r\n            $input = $('<input type=\"text\" />'),\r\n            $field = $('<span class=\"pseudo-select-field\"></span>'),\r\n            $dropdown = $('<ul class=\"pseudo-select-dropdown\"></ul>');\r\n\r\n        $options.each(function () {\r\n            $li = $('<li class=\"pseudo-select-dropdown-item\"></li>');\r\n            $li.data('value', this.value);\r\n            $li.text(this.text);\r\n\r\n            if ( this.disabled ) $li.addClass('disabled');\r\n            if ( this.selected ) {\r\n                $li.addClass('selected');\r\n                $field.text(this.text);\r\n                $input.attr('value', this.value);\r\n            }\r\n\r\n            $dropdown.append($li);\r\n        });\r\n\r\n        $el.after($pseudoSelect);\r\n        $input.attr({ id: el.id, name: el.name });\r\n        $pseudoSelect.append($input).append($field).append($dropdown);\r\n\r\n        $el.remove();\r\n\r\n        var closePseudoSelect = function () {\r\n                $dropdown.stop(true, true).slideUp(150);\r\n                setTimeout(function () { $el.removeClass('open'); }, 150);\r\n            },\r\n            openPseudoSelect = function () {\r\n                $el.addClass('open');\r\n                $dropdown.stop(true, true).slideDown(250);\r\n            },\r\n            selectItem = function ($li) {\r\n                var value = $li.data('value'),\r\n                    text = $li.text(),\r\n                    dropdownHeight = $dropdown.outerHeight(),\r\n                    elHeight = $li.outerHeight(),\r\n                    scrollTop = $dropdown.scrollTop(),\r\n                    elemPosition = $li.position().top;\r\n\r\n                if ( elemPosition + elHeight > dropdownHeight ) {\r\n                    $dropdown.scrollTop(elHeight + elemPosition - dropdownHeight + scrollTop);\r\n                }else if ( elemPosition < 0 ) {\r\n                    $dropdown.scrollTop(scrollTop + elemPosition);\r\n                }\r\n\r\n                $li.addClass('selected').siblings('li').removeClass('selected');\r\n                $input.val(value);\r\n                $field.text(text);\r\n                $input.trigger('change');\r\n            }\r\n\r\n        $input.on('focus.pseudoSelect', openPseudoSelect);\r\n        $input.on('blur.pseudoSelect', closePseudoSelect);\r\n\r\n        $input.on('keydown', function (event) {\r\n            var $li = $dropdown.find('li').not('.disabled'),\r\n                $liSelected = $dropdown.find('li.selected').not('.disabled'),\r\n                index = $.map($li, function (el, i) { if ( $(el).is('.selected')) { return i; } })[0],\r\n                nextIndex = (index < $li.length - 1) ? index + 1 : 0,\r\n                prevIndex = index - 1,\r\n                $prev = $li.eq(prevIndex),\r\n                $next = $li.eq(nextIndex);\r\n\r\n            if ( event.keyCode == 38 ) {\r\n                if ( $liSelected.length ) {\r\n                    selectItem($prev);\r\n                }else {\r\n                    selectItem($li.last());\r\n                }\r\n            }\r\n\r\n            if ( event.keyCode == 40 ) {\r\n                if ( $liSelected.length ) {\r\n                    selectItem($next);\r\n                }else {\r\n                    selectItem($li.first());\r\n                }\r\n            }\r\n\r\n            if ( event.keyCode == 32 ) {\r\n                if ( $el.is('.open') ) closePseudoSelect();\r\n                else openPseudoSelect();\r\n            }\r\n\r\n            if ( event.keyCode != 13 && event.keyCode != 9 ) {\r\n                return false;\r\n            }\r\n        });\r\n\r\n        $field.on('click.pseudoSelect', function (event) {\r\n            event.preventDefault();\r\n\r\n            if ( !$el.is('.open') ) $input.trigger('focus');\r\n        });\r\n\r\n        $('body').on('click.pseudoSelect', function (event) {\r\n            if ( !$(event.target).closest($field).length && $el.is('.open') ) closePseudoSelect();\r\n        });\r\n\r\n        $dropdown.on('mousedown.pseudoSelect click.pseudoSelect', 'li', function (event) {\r\n            event.preventDefault();\r\n\r\n            selectItem($(this));\r\n            closePseudoSelect();\r\n        });\r\n\r\n        return $input;\r\n    },\r\n\r\n    // Tabs view\r\n    tabNavToSelect: function() {\r\n        $nav = $('.nav');\r\n\r\n        var _this = this;\r\n\r\n        $nav.each(function () {\r\n            var $this = $(this),\r\n                $active = $this.find('li.active > a'),\r\n                $field = $('<span class=\"nav-current\">' + $active.html() + '</span>');\r\n\r\n            $this.wrapAll('<div class=\"nav-wrapper\"></div>')\r\n\r\n            $this.before($field);\r\n\r\n            $field.on('click', function () {\r\n                if ( !$this.is('.open') ) $this.stop(true, true).slideDown(250).addClass('open');\r\n                else $this.stop(true, true).slideUp(150).removeClass('open');\r\n            });\r\n\r\n            $this.on('click', 'a', function () {\r\n                $field.html($(this).html());\r\n            });\r\n\r\n            $('body').on('click', function (event) {\r\n                $target = $(event.target);\r\n\r\n                if ( !$target.closest($field).length && $this.is('.open') ) {\r\n                    $this.stop(true, true).slideUp(150).removeClass('open');\r\n                }\r\n            });\r\n        });\r\n    },\r\n\r\n    formInit: function () {\r\n        var _this = this;\r\n\r\n        this.log( 'Init ajaxed forms.' );\r\n\r\n        if ( typeof toastr != 'undefined' ) {\r\n            toastr.options = {\r\n                positionClass: this.options.toastrPositionClass\r\n            };\r\n\r\n        }else {\r\n            this.log( 'Can\\'t find toastr. Form messages in alerts.' );\r\n        }\r\n\r\n        var validateOptions,\r\n            submitHandler,\r\n            doneHandler,\r\n            failHandler;\r\n\r\n        submitHandler = function (event) {\r\n            var form = this;\r\n\r\n            event.preventDefault();\r\n\r\n            $.ajax({\r\n                url: form.action,\r\n                type: 'POST',\r\n                data: $(form).serialize()\r\n            }).done(function(msg) {\r\n                doneHandler(msg, form);\r\n\r\n            }).fail(function() {\r\n                failHandler(form);\r\n\r\n            });\r\n        }\r\n\r\n        validateOptions = {\r\n            rules: {\r\n                password: {\r\n                    required: true,\r\n                    minlength: 5\r\n                },\r\n                confirmPassword: {\r\n                    required: true,\r\n                    minlength: 5,\r\n                    equalTo: '#password'\r\n                }\r\n            },\r\n\r\n            messages: {\r\n                password: {\r\n                    required: 'Please provide a password',\r\n                    minlength: 'Your password must be at least 5 characters long'\r\n                },\r\n                confirmPassword: {\r\n                    required: 'Please provide a password',\r\n                    minlength: 'Your password must be at least 5 characters long',\r\n                    equalTo: 'Please enter the same password as above'\r\n                }\r\n            },\r\n\r\n            submitHandler: function (form) {\r\n                var $input = $(form).find('input[type=\"submit\"]'),\r\n                    $button = $(form).find('button[type=\"submit\"]');\r\n\r\n                if ( $button.length ) {\r\n                    $button.append('<span class=\"loading fa fa-refresh\"></span>');\r\n\r\n                }else if ( $input ) {\r\n                    $input.after('<span class=\"loading fa fa-refresh\"></span>');\r\n\r\n                }\r\n\r\n                $.ajax({\r\n                    url: form.action,\r\n                    type: 'POST',\r\n                    data: $(form).serialize()\r\n                }).done(function(msg) {\r\n                    $(form).find('.loading').remove();\r\n\r\n                    doneHandler(msg, form);\r\n\r\n                }).fail(function() {\r\n                    $(form).find('.loading').remove();\r\n\r\n                    failHandler(form);\r\n\r\n                });\r\n            }\r\n        };\r\n\r\n        doneHandler = function (msg, form) {\r\n            if( msg === 'ok' ) {\r\n                form.reset();\r\n\r\n                if ( typeof toastr != 'undefined' ) toastr.success('Success');\r\n                else alert('Success');\r\n\r\n            } else {\r\n                if ( typeof toastr != 'undefined' ) toastr.error('An error occured. Please try again later.');\r\n                else alert('An error occured. Please try again later.');\r\n\r\n                _this.log( 'Form message', msg );\r\n            }\r\n        };\r\n\r\n        failHandler = function () {\r\n            if ( typeof toastr != 'undefined' ) toastr.error('An error occured. Please try again later.');\r\n            else alert('An error occured. Please try again later.');\r\n        }\r\n\r\n        if ( $('form').not('.mailchimp-form').not('.disable-ajax-form').length ) {\r\n            $('form').not('.mailchimp-form').not('.disable-ajax-form').each(function() {\r\n                if ( typeof $.fn.validate == 'function' ) {\r\n                    $(this).validate(validateOptions);\r\n                }else {\r\n                    $(this).on('submit', submitHandler);\r\n\r\n                    _this.log( 'Can\\'t find jQuery.validate function.' );\r\n                }\r\n            });\r\n        }\r\n\r\n        if ( $('.mailchimp-form').length ) {\r\n            $('.mailchimp-form').each(function() {\r\n                $(this).on('submit', function(event) {\r\n                    event.preventDefault();\r\n\r\n                    var $form = $(this),\r\n                        $input = $form.find('input[type=\"submit\"]'),\r\n                        $button = $form.find('button[type=\"submit\"]'),\r\n                        $fullnameField = '',\r\n                        $emailField = $form.find('[name=NewsletterEmail]'),\r\n                        $responseBlock = $form.find('.response'),\r\n                        email = $emailField.val(),\r\n                        first_name = '',\r\n                        last_name = '';\r\n\r\n                    if ($(this).find('[name=NewsletterName]') .length > 0){\r\n                        $fullnameField = $form.find('[name=NewsletterName]');\r\n                        fullname = $fullnameField.val().split(' '), // Gwt Full name and split it by space\r\n                        first_name = fullname[0], // First part is the first name\r\n                        last_name = fullname[1]; // Second part is Last name\r\n                        if ( !last_name ) last_name = ''; //By chance they can input only their first name, then we should null the last name since there is none\r\n                    } else {\r\n                        first_name = '',\r\n                        last_name = '';\r\n                    }\r\n\r\n                    if ( $button.length ) {\r\n                        $button.append('<span class=\"loading fa fa-refresh\"></span>');\r\n\r\n                    }else if ( $input ) {\r\n                        $input.after('<span class=\"loading fa fa-refresh\"></span>');\r\n\r\n                    }\r\n\r\n                    $.ajax({\r\n                        url: 'process-form-mailchimp.php',\r\n                        data: 'ajax=true&email=' + escape(email) + '&fname=' + first_name +'&lname=' + last_name,\r\n\r\n                        success: function(msg) {\r\n                            $form.find('.loading').remove();\r\n\r\n                            if ( msg.indexOf('Success') !=-1 ) {\r\n                                $responseBlock.html('<span class=\"success-message\">Success! You are now subscribed to our newsletter!</span>');\r\n                            } else {\r\n                                $responseBlock.html('<span class=\"error-message\">' + msg + '</span>');\r\n                            }\r\n                        }\r\n                    });\r\n                });\r\n            });\r\n        }\r\n    },\r\n\r\n    // Google map\r\n    initGoogleMap: function() {\r\n        var _this = this;\r\n\r\n        if ( $('.map').length ) {\r\n            $('.map').each(function () {\r\n                var mapEl = this;\r\n\r\n                var map, marker, geocoder, service;\r\n\r\n                var icon = '/assets/img/marker-46x46.png',\r\n                    address,\r\n                    markerLatLng,\r\n                    offsetX,\r\n                    offsetY,\r\n                    relativeOffset,\r\n                    balloons,\r\n                    mapOptions = {\r\n                        zoom: 14,\r\n                        scrollwheel: false,\r\n                        mapTypeControl: false\r\n                    };\r\n\r\n                function createMap () {\r\n                    mapOptions.center = markerLatLng\r\n\r\n                    map = new google.maps.Map(mapEl, mapOptions);\r\n\r\n                    marker = new google.maps.Marker({\r\n                        map: map,\r\n                        icon: icon,\r\n                        position: markerLatLng\r\n                    });\r\n\r\n                    map.addListener('projection_changed', function() {\r\n                        centerMap(map, offsetX, offsetY, relativeOffset);\r\n                    });\r\n\r\n                    createBalloons();\r\n                }\r\n\r\n                function createBalloons () {\r\n                    service = new google.maps.places.PlacesService(map);\r\n\r\n                    if ( balloons ) {\r\n                        for (var i = 0; i < balloons.length; i++) {\r\n                            var balloon = balloons[i];\r\n\r\n                            if ( typeof balloon == 'string' ) {\r\n                                service.textSearch({\r\n                                    location: markerLatLng,\r\n                                    radius: 5000,\r\n                                    query: balloon\r\n                                }, function(results, status) {\r\n                                    if (status == google.maps.places.PlacesServiceStatus.OK) {\r\n                                        for (var i = 0, place; place = results[i]; i++) {\r\n                                            service.getDetails({placeId: place.place_id}, createMarkers);\r\n                                        };\r\n                                    }\r\n                                });\r\n                            }\r\n                        };\r\n                    }\r\n                }\r\n\r\n                function createMarkers(place, status) {\r\n                    if (status == google.maps.places.PlacesServiceStatus.OK) {\r\n                        var innerContent;\r\n\r\n                        innerContent = '<div class=\"balloon\"><strong class=\"name\">' + place.name + '</strong>';\r\n\r\n                        if ( place.rating ) {\r\n                            innerContent += '<ul class=\"list-inline rating\">';\r\n\r\n                            for (var i = 0; i < Math.floor(place.rating); i++) {\r\n                                innerContent += '<li><span class=\"fa fa-star\"></span></li>'\r\n                            };\r\n\r\n                            innerContent += '</ul>';\r\n                        }\r\n\r\n                        if ( place.adr_address ) {\r\n                            innerContent += '<p class=\"address\">' + place.adr_address + '</p>';\r\n                        }\r\n\r\n                        if ( place.international_phone_number ) {\r\n                            innerContent += '<p class=\"phone\">' + place.international_phone_number + '</p>';\r\n                        }\r\n\r\n                        innerContent += '</div>';\r\n\r\n                        var infowindow = new google.maps.InfoWindow({\r\n                            position: place.geometry.location,\r\n                            maxWidth: 200,\r\n                            content: innerContent,\r\n                            disableAutoPan: true\r\n                        });\r\n\r\n                        infowindow.open(map);\r\n                    }\r\n                }\r\n\r\n                function centerMap(map, offsetX, offsetY, relative) {\r\n                    var offsetX = (typeof offsetX == 'number' ? offsetX : 0),\r\n                        offsetY = (typeof offsetY == 'number' ? offsetY : 0),\r\n                        zoom = map.getZoom(),\r\n                        scale = Math.pow( 2, zoom ),\r\n                        northEast = map.getBounds().getNorthEast(),\r\n                        southWest = map.getBounds().getSouthWest(),\r\n                        width = Math.abs( northEast.lng() - southWest.lng() ),\r\n                        height = Math.abs( northEast.lat() - southWest.lat() ),\r\n                        point1 = map.getProjection().fromLatLngToPoint( map.getCenter() ),\r\n                        point2 = new google.maps.Point(\r\n                            offsetX / scale,\r\n                            offsetY / scale\r\n                        ),\r\n                        centerPoint = new google.maps.Point(\r\n                            point1.x - point2.x,\r\n                            point1.y - point2.y\r\n                        ),\r\n                        center = map.getProjection().fromPointToLatLng( centerPoint );\r\n\r\n                    if ( relative ) {\r\n                        center = new google.maps.LatLng(\r\n                            map.getCenter().lat() + height * offsetY / 100,\r\n                            map.getCenter().lng() - width * offsetX / 100\r\n                        );\r\n                    }\r\n\r\n                    map.setCenter( center );\r\n                }\r\n\r\n                function successCallback (data) {\r\n                    if ( typeof data == 'object' ) {\r\n                        if ( data.mapZoom ) mapOptions.zoom = data.mapZoom;\r\n\r\n                        if ( data.relativeOffset ) relativeOffset = true;\r\n\r\n                        if ( data.offsetX ) offsetX = data.offsetX;\r\n                        else offsetX = 0;\r\n\r\n                        if ( data.offsetY ) offsetY = data.offsetY;\r\n                        else offsetY = 0;\r\n\r\n                        if ( data.markerImagePath && typeof data.markerImagePath == 'string' ) icon = data.markerImagePath;\r\n\r\n                        if ( data.markerAddress && typeof data.markerAddress == 'string' ) address = data.markerAddress;\r\n                        else if ( data.markerLatLng && typeof data.markerLatLng == 'object' ) markerLatLng = new google.maps.LatLng(data.markerLatLng[0], data.markerLatLng[1]);\r\n\r\n                        if ( data.balloons && typeof data.balloons == 'object' && data.balloons.length ) balloons = data.balloons;\r\n                    }\r\n\r\n                    geocoder = new google.maps.Geocoder();\r\n\r\n                    if ( typeof markerLatLng == 'object' ) {\r\n                        createMap();\r\n\r\n                    }else if ( typeof address == 'string' ) {\r\n                        geocoder.geocode({ 'address': address }, function(results, status) {\r\n                            markerLatLng = results[0].geometry.location;\r\n\r\n                            createMap();\r\n                        });\r\n                    }\r\n                }\r\n\r\n                function failCallback () {\r\n                    _this.log(\"Can't parse map settings!\");\r\n\r\n                    new google.maps.Map(mapEl, {\r\n                        center: new google.maps.LatLng(0, 0),\r\n                        zoom: 2\r\n                    });\r\n                }\r\n\r\n                if ( $(this).data('settings') ) {\r\n                    $.getJSON($(this).data('settings'), successCallback).fail(failCallback);\r\n\r\n                }else {\r\n                    failCallback();\r\n                }\r\n            });\r\n        }\r\n    },\r\n\r\n    // count down timer\r\n    countdownInit: function () {\r\n        if ( $('.countdown').length ) {\r\n            if ( typeof $.fn.countdown == 'function' ) {\r\n                var futureDate = new Date();\r\n                $countdown = $('.countdown');\r\n\r\n                // count down 10 days from today\r\n                futureDate.setDate( futureDate.getDate() + 10 );\r\n                // or set specific date in the future\r\n                // futureDate = new Date(2014, 7, 26);\r\n\r\n                $countdown.countdown({\r\n                    until: futureDate,\r\n                    compact: true,\r\n                    padZeroes: true,\r\n                    layout: $('.countdown').html()\r\n                });\r\n            }else {\r\n                this.log( 'Can\\'t find jQuery.coundown function' );\r\n            }\r\n        }\r\n    },\r\n\r\n    masonryInit: function () {\r\n        var _this = this;\r\n\r\n        if ( $('.masonry').length && typeof $.fn.masonry == 'function' ) {\r\n            $('.masonry').each(function () {\r\n                var $container = $(this);\r\n\r\n                $container.masonry({\r\n                    itemSelector: '.masonry-item',\r\n                    isAnimated: true,\r\n\r\n                    columnWidth: function( containerWidth ) {\r\n                        if ( containerWidth > 720 ) {\r\n                            $container.removeClass('width400').removeClass('width720');\r\n                            return containerWidth / 4;\r\n                        }else if ( containerWidth > 400 ) {\r\n                            $container.addClass('width720').removeClass('width400');\r\n                            if ( $container.is('.speakers') ) return containerWidth / 2;\r\n                            else return containerWidth / 3;\r\n                        }else {\r\n                            $container.addClass('width400').removeClass('width720');\r\n                            if ( $container.is('.speakers') ) return containerWidth;\r\n                            else return containerWidth / 2;\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    },\r\n\r\n    gallerySliderInit: function () {\r\n        var _this = this;\r\n\r\n        if ( $('.gallery.light-slider').length && typeof $.fn.bxSlider == 'function' ) {\r\n            $('.gallery.light-slider').each(function () {\r\n                var $container = $(this),\r\n                    $imgSLider = $container.find('.img-slider'),\r\n                    $descrSlider = $container.find('.description-slider');\r\n\r\n                $imgSLider.find('li > img').each(function () {\r\n                    var $this = $(this),\r\n                        $li = $this.parent(),\r\n                        imgSrc = $this.attr('src');\r\n\r\n                    $li.css('background-image', 'url(\"' + imgSrc + '\")').data('imgSrc', imgSrc);\r\n                    $this.remove();\r\n                });\r\n\r\n                if ( $imgSLider.length && $descrSlider.length ) {\r\n                    function countImgMinHeight ($slide) {\r\n                        var img = new Image();\r\n\r\n                        img.src = $slide.data('imgSrc');\r\n\r\n                        img.onload = function () {\r\n                            height = this.height * $slide.outerWidth() / this.width\r\n                            $imgSLider.css('min-height', height);\r\n\r\n                            return height;\r\n                        }\r\n\r\n                        return img.onload;\r\n                    }\r\n\r\n                    $imgSLider.bxSlider({\r\n                        pager: false,\r\n                        controls: false,\r\n                        mode: 'fade',\r\n                        adaptiveHeight: true,\r\n\r\n                        onSliderLoad: function (currentIndex) {\r\n                            $slide = $imgSLider.find('> li').eq(currentIndex);\r\n\r\n                            height = countImgMinHeight($slide);\r\n                            console.log(height);\r\n                        },\r\n\r\n                        onSlideBefore: function ($slide) {\r\n                            countImgMinHeight($slide);\r\n                        }\r\n                    });\r\n\r\n                    $descrSlider.bxSlider({\r\n                        controls: false,\r\n                        adaptiveHeight: true,\r\n\r\n                        onSlideBefore: function ($slideElement, oldIndex, newIndex) {\r\n                            $imgSLider.goToSlide(newIndex);\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    },\r\n\r\n    //sticky menu initialization\r\n    stickMenu: function () {\r\n        var $header = $('header');\r\n\r\n        $header.css('min-height', $header.height());\r\n        $header.addClass('fixed');\r\n        $('.fade-in-on-stick').fadeIn();\r\n    },\r\n\r\n    unstickMenu: function () {\r\n        var $header = $('header');\r\n\r\n        $header.removeClass('fixed');\r\n        $header.css('min-height', '');\r\n        $('.fade-in-on-stick').fadeOut();\r\n    },\r\n\r\n    //one page menu navigation\r\n    onePageNavInit: function () {\r\n        var _this = this;\r\n\r\n        if ( typeof $.fn.waypoint != 'undefined' ) {\r\n            var $menuLinks = $('.navigation-list a').not('[href=\"#\"]').filter(function () {\r\n                    return /#\\w+/.test(this.href);\r\n                }),\r\n                enterHandler = function( that, direction ) {\r\n                    var id = that.id,\r\n                        $item = $('.navigation-list a').filter(function () {\r\n                            return this.href.indexOf('#' + that.id) > -1;\r\n                        });\r\n\r\n                    $('.navigation-list .active').removeClass('active');\r\n                    $item.addClass('active');\r\n\r\n                    // push anchor to browser URL\r\n                    if ( _this.options.onePageNavHashChange ){\r\n                        if ( history.pushState ) {\r\n                            history.pushState(null, null, '#' + id);\r\n                        }else {\r\n                            _this.log('Browser don\\'t support history API');\r\n                        }\r\n                    }\r\n                },\r\n                leaveHandler = function ( that, direction ) {\r\n                    var $item = $('.navigation-list a').filter(function () {\r\n                            return this.href.indexOf('#' + that.id) > -1;\r\n                        });\r\n\r\n                    $item.removeClass('active');\r\n                };\r\n\r\n            $menuLinks.each(function (index) {\r\n                var href = this.href,\r\n                    anchorId = href.substring(href.indexOf('#'), href.length),\r\n                    $block = $(anchorId);\r\n\r\n                if ( $block.length ) {\r\n                    $block.waypoint(function (direction) {\r\n                        if ( direction == 'down' ) {\r\n                            enterHandler( this.element, direction );\r\n                        }\r\n\r\n                    }, { offset: 0 });\r\n\r\n                    $block.waypoint(function (direction) {\r\n                        if ( direction == 'down' ) {\r\n                            leaveHandler( this.element, direction );\r\n\r\n                        }else {\r\n                            enterHandler( this.element, direction );\r\n                        }\r\n\r\n                    }, { offset: -$block.outerHeight() });\r\n\r\n                    $block.waypoint(function (direction) {\r\n                        if ( direction == 'up' ) {\r\n                            leaveHandler( this.element, direction );\r\n                        }\r\n\r\n                    }, { offset: '100%' });\r\n                }\r\n            });\r\n\r\n            $('body').waypoint(function () {\r\n                var id = 'hero',\r\n                    $item = $('.navigation-list a[href=\"#' + id + '\"]');\r\n\r\n                $('.navigation-list .active').removeClass('active');\r\n\r\n                if ( $item.length ) {\r\n                    $item.addClass('active');\r\n\r\n                    if ( _this.options.onePageNavHashChange ){\r\n                        if ( history.pushState ) {\r\n                            history.pushState(null, null, '#' + id);\r\n                        }else {\r\n                            _this.log('Browser don\\'t support history API');\r\n                        }\r\n                    }\r\n                }\r\n            }, { offset: -100 });\r\n\r\n            $('body').on( 'click', 'a[href*=\"#\"]', function (event) {\r\n                var href = $(this).attr('href'),\r\n                    anchorId = href.substring(href.indexOf('#'), href.length);\r\n\r\n                if ( $(this).attr('data-toggle') && $(this).attr('data-toggle').length ) {\r\n                    return;\r\n\r\n                }\r\n\r\n                if ( $(anchorId).length ) {\r\n                    _this.anchorClickHandler(anchorId);\r\n\r\n                    return false;\r\n                }\r\n            });\r\n\r\n        }else {\r\n            this.log( 'Can\\'t find jQuery.waypoint function' );\r\n\r\n        }\r\n    },\r\n\r\n    //custom smooth scrolling for all onpage anchors\r\n    anchorClickHandler: function(anchorId) {\r\n        var _this = this,\r\n            offsetTop = $(anchorId).offset().top - $('.header').height(),\r\n            $nav = $('.navigation-list'),\r\n            $elems = $nav.find('a[href=\"' + anchorId + '\"]');\r\n\r\n        $('body, html').animate({\r\n            scrollTop: offsetTop\r\n\r\n        }, 450, function () {\r\n            if ( _this.options.onePageNavHashChange ) {\r\n                if ( history.pushState ) {\r\n                    history.pushState(null, null, anchorId);\r\n\r\n                }else {\r\n                    window.location.hash = anchorId;\r\n\r\n                }\r\n            }\r\n\r\n            $nav.find('.active').removeClass('active');\r\n            $elems.addClass('active');\r\n        });\r\n    },\r\n\r\n    checkHeaderStatus: function () {\r\n        if ( $('header').length ) {\r\n            var $header = $('header'),\r\n                scrollTop = $(window).scrollTop(),\r\n                headerTop = $header.offset().top;\r\n\r\n            if ( scrollTop >= headerTop ) {\r\n                this.stickMenu();\r\n\r\n            }else {\r\n                this.unstickMenu();\r\n            }\r\n        }\r\n    },\r\n\r\n    //onload handler\r\n    windowLoadHeandler: function (event) {\r\n        this.log('Window load handler');\r\n\r\n        if ( window.location.hash.length ) {\r\n            this.anchorClickHandler(window.location.hash);\r\n        }\r\n\r\n        if ( this.options.onePageNav ) {\r\n            this.onePageNavInit();\r\n        }\r\n\r\n        this.checkHeaderStatus();\r\n\r\n        this.masonryInit();\r\n\r\n        this.hidePreloader();\r\n    },\r\n\r\n    //on resize handler\r\n    windowResizeHandler: function (event) {\r\n        this.checkMobile();\r\n\r\n        this.windowHeightBlock();\r\n\r\n        this.centeredBlock();\r\n\r\n        this.calculateMenuSizes();\r\n    },\r\n\r\n    //on scroll handler\r\n    windowScrollHandler: function (event) {\r\n        this.checkHeaderStatus();\r\n    },\r\n\r\n    styleSwitcherHandler: function (event, $el) {\r\n        event.preventDefault();\r\n\r\n        var switcher = $('.style-switcher');\r\n\r\n        if (switcher.hasClass('style-active')){\r\n            switcher.animate({ marginLeft: '0' }, 200, 'linear');\r\n\r\n        } else {\r\n            switcher.animate({ marginLeft: '225' }, 200, 'linear');\r\n        }\r\n\r\n        switcher.toggleClass('style-active');\r\n    },\r\n\r\n    styleSwitcherColorHandler: function (event, $el) {\r\n        var $this = $el,\r\n            colorName = $this.attr('data-color');\r\n\r\n        event.preventDefault();\r\n\r\n        $('.style-switcher-css').remove();\r\n        $('head').append('<link class=\"style-switcher-css\" rel=\"stylesheet\" type=\"text/css\" href=\"assets/css/colors/' + colorName + '.css\">');\r\n    },\r\n\r\n    styleSwitcherToggleAnimation: function (event, $el) {\r\n        if ( $el.get(0).checked ) {\r\n            $('.animated').css('opacity', '');\r\n            this.options.animations = true;\r\n\r\n        }else {\r\n            $('.animated').css('opacity', 1);\r\n            this.options.animations = false;\r\n        }\r\n    },\r\n\r\n    //small back-to-top link function\r\n    backToTopHandler: function () {\r\n        $('html, body').animate({\r\n            scrollTop: 0,\r\n            easing: 'swing'\r\n        }, 750);\r\n    },\r\n\r\n    setEventHandlers: function () {\r\n        var _this = this;\r\n\r\n        $(window).on('load', function (event) {\r\n            _this.windowLoadHeandler(event);\r\n        });\r\n\r\n        $(window).on('resize', function (event) {\r\n            _this.windowResizeHandler(event);\r\n        });\r\n\r\n        $(window).on('scroll', function (event) {\r\n            _this.windowScrollHandler(event);\r\n        });\r\n\r\n        $('.back-to-top').on('click', function (event) {\r\n            event.preventDefault();\r\n\r\n            _this.backToTopHandler();\r\n        });\r\n\r\n        $('.navbar-collapse').on( 'mousewheel DOMMouseScroll', function (event) {\r\n            if ( _this.mobileDevice ) {\r\n                var e0 = event.originalEvent,\r\n                    delta = e0.wheelDelta || -e0.detail;\r\n\r\n                this.scrollTop -= delta;\r\n                event.preventDefault();\r\n            }\r\n        });\r\n\r\n        $('.style-toggle').on('click', function(event){\r\n            _this.styleSwitcherHandler(event, $(this));\r\n        });\r\n\r\n        $('.style-switcher .color').on('click', function(event) {\r\n            _this.styleSwitcherColorHandler(event, $(this));\r\n        });\r\n\r\n        $('#animations_switch').on('change', function(event){\r\n            _this.styleSwitcherToggleAnimation(event, $(this));\r\n        });\r\n\r\n        this.log('Set event hendlers');\r\n    },\r\n\r\n    hidePreloader: function (callback) {\r\n        var _this = this;\r\n\r\n        $('.preloader-mask').delay(500).fadeOut(600);\r\n\r\n        setTimeout(function() {\r\n            _this.initAnimations();\r\n\r\n        }, 700);\r\n\r\n        if ( callback ) {\r\n            callback();\r\n        }\r\n    },\r\n\r\n    init: function (options) {\r\n        this.options = $.extend(this.defaults, options, $('body').data());\r\n\r\n        this.log('Init');\r\n\r\n        this.checkMobile();\r\n\r\n        this.tabNavToSelect();\r\n\r\n        this.countdownInit();\r\n\r\n        if ( this.options.styleSwitcher ) this.buildStyleSwitcher();\r\n\r\n        if ( this.options.smoothScroll ) this.smoothScrollInit();\r\n\r\n        if ( this.options.ajaxedForm ) this.formInit();\r\n\r\n        if ( this.options.pseudoSelect ) this.initPseudoSelect();\r\n\r\n        if ( typeof google != 'undefined') this.initGoogleMap();\r\n\r\n        this.windowHeightBlock();\r\n\r\n        this.centeredBlock();\r\n\r\n        this.calculateMenuSizes();\r\n\r\n        this.videoBackgroundInit();\r\n\r\n        this.gallerySliderInit();\r\n\r\n        this.setEventHandlers();\r\n    }\r\n}\r\n\r\n$('.navigation-item').on( 'click', function (event) {\r\n    if($('#navigation').hasClass('in')){\r\n        $('#navigation').removeClass('in');\r\n    }\r\n});\r\n"]}]}